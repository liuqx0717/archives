A51 MACRO ASSEMBLER  TEST3                                                                11/15/2017 18:41:37 PAGE     1


MACRO ASSEMBLER A51 V8.2.5.0
OBJECT MODULE PLACED IN .\Objects\test3.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE asm\test3.asm NOMOD51 SET(SMALL) DEBUG PRINT(.\Listings\test3.lst) OBJE
                      CT(.\Objects\test3.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ;$include (C8051F310.INC)

                +1     2     ;---------------------------------------------------------------------------

                +1     3     ;  

                +1     4     ;  

                +1     5     ;

                +1     6     ;

                +1     7     ;  FILE NAME   : C8051F310.INC

                +1     8     ;  TARGET MCUs : C8051F310, 'F311

                +1     9     ;  DESCRIPTION : Register/bit definitions for the C8051F31x product family.

                +1    10     ;

                +1    11     ;  REVISION 1.3

                +1    12     ;     -- added ESPI0 and PSPI0

                +1    13     ;  REVISION 1.2

                +1    14     ;     -- added VDM0CN (0xff)   

                +1    15     ;

                +1    16     ;  REVISION 1.1

                +1    17     ;     -- changed TARGET MCUs to 'F310, 'F311

                +1    18     ;     -- SPICFG --> SPI0CFG

                +1    19     ;     -- SPICKR --> SPI0CKR

                +1    20     ;     -- SPIDAT --> SPI0DAT

                +1    21     ;     -- removed CLKMUL (0xb9)

                +1    22     ;     -- AMUX0N --> AMX0N

                +1    23     ;     -- AMUX0P --> AMX0P

                +1    24     ;

                +1    25     ;---------------------------------------------------------------------------

                +1    26     

                +1    27     ; BYTE Registers 

  0080          +1    28     P0       DATA  080H     ; PORT 0                                                   

  0081          +1    29     SP       DATA  081H     ; STACK POINTER                                            

  0082          +1    30     DPL      DATA  082H     ; DATA POINTER - LOW BYTE                                  

  0083          +1    31     DPH      DATA  083H     ; DATA POINTER - HIGH BYTE                                 

  0087          +1    32     PCON     DATA  087H     ; POWER CONTROL                                            

  0088          +1    33     TCON     DATA  088H     ; TIMER CONTROL                                            

  0089          +1    34     TMOD     DATA  089H     ; TIMER MODE                                               

  008A          +1    35     TL0      DATA  08AH     ; TIMER 0 - LOW BYTE                                       

  008B          +1    36     TL1      DATA  08BH     ; TIMER 1 - LOW BYTE                                       

  008C          +1    37     TH0      DATA  08CH     ; TIMER 0 - HIGH BYTE                                      

  008D          +1    38     TH1      DATA  08DH     ; TIMER 1 - HIGH BYTE                                      

  008E          +1    39     CKCON    DATA  08EH     ; CLOCK CONTROL                                            

  008F          +1    40     PSCTL    DATA  08FH     ; PROGRAM STORE R/W CONTROL                                

  0090          +1    41     P1       DATA  090H     ; PORT 1                                                   

  0091          +1    42     TMR3CN   DATA  091H     ; TIMER 3 CONTROL                                          

  0092          +1    43     TMR3RLL  DATA  092H     ; TIMER 3 RELOAD LOW                                       

  0093          +1    44     TMR3RLH  DATA  093H     ; TIMER 3 RELOAD HIGH                                      

  0094          +1    45     TMR3L    DATA  094H     ; TIMER 3 LOW BYTE                                         

  0095          +1    46     TMR3H    DATA  095H     ; TIMER 3 HIGH BYTE                                        

  0098          +1    47     SCON0    DATA  098H     ; SERIAL PORT 0 CONTROL                                    

  0099          +1    48     SBUF0    DATA  099H     ; SERIAL PORT 0 BUFFER                                     

  009A          +1    49     CPT1CN   DATA  09AH     ; COMPARATOR 1 CONTROL                                     

  009B          +1    50     CPT0CN   DATA  09BH     ; COMPARATOR 0 CONTROL                                     

  009C          +1    51     CPT1MD   DATA  09CH     ; COMPARATOR 1 MODE                                        

  009D          +1    52     CPT0MD   DATA  09DH     ; COMPARATOR 0 MODE                                        

  009E          +1    53     CPT1MX   DATA  09EH     ; COMPARATOR 1 MUX                                         

  009F          +1    54     CPT0MX   DATA  09FH     ; COMPARATOR 0 MUX                                         

  00A0          +1    55     P2       DATA  0A0H     ; PORT 2                                                   

  00A1          +1    56     SPI0CFG  DATA  0A1H     ; SPI0 CONFIGURATION                                        

  00A2          +1    57     SPI0CKR  DATA  0A2H     ; SPI0 CLOCK CONFIGURATION                                  

A51 MACRO ASSEMBLER  TEST3                                                                11/15/2017 18:41:37 PAGE     2

  00A3          +1    58     SPI0DAT  DATA  0A3H     ; SPI0 DATA                                         

  00A4          +1    59     P0MDOUT  DATA  0A4H     ; PORT 0 OUTPUT MODE                                       

  00A5          +1    60     P1MDOUT  DATA  0A5H     ; PORT 1 OUTPUT MODE                                       

  00A6          +1    61     P2MDOUT  DATA  0A6H     ; PORT 2 OUTPUT MODE                                       

  00A7          +1    62     P3MDOUT  DATA  0A7H     ; PORT 3 OUTPUT MODE                                       

  00A8          +1    63     IE       DATA  0A8H     ; INTERRUPT ENABLE                                         

  00A9          +1    64     CLKSEL   DATA  0A9H     ; CLOCK SOURCE SELECT                                      

  00AA          +1    65     EMI0CN   DATA  0AAH     ; EXTERNAL MEMORY INTERFACE CONTROL                        

  00B0          +1    66     P3       DATA  0B0H     ; PORT 3                                                   

  00B1          +1    67     OSCXCN   DATA  0B1H     ; EXTERNAL OSCILLATOR CONTROL                              

  00B2          +1    68     OSCICN   DATA  0B2H     ; INTERNAL OSCILLATOR CONTROL                              

  00B3          +1    69     OSCICL   DATA  0B3H     ; INTERNAL OSCILLATOR CALIBRATION                          

  00B5          +1    70     FLACL    DATA  0B5H     ; FLASH ACCESS LIMIT

  00B6          +1    71     FLSCL    DATA  0B6H     ; FLASH SCALE                                              

  00B7          +1    72     FLKEY    DATA  0B7H     ; FLASH LOCK & KEY                                         

  00B8          +1    73     IP       DATA  0B8H     ; INTERRUPT PRIORITY   

  00BA          +1    74     AMX0N    DATA  0BAH     ; ADC0 MUX NEGATIVE CHANNEL SELECTION                      

  00BB          +1    75     AMX0P    DATA  0BBH     ; ADC0 MUX POSITIVE CHANNEL SELECTION                      

  00BC          +1    76     ADC0CF   DATA  0BCH     ; ADC0 CONFIGURATION                                       

  00BD          +1    77     ADC0L    DATA  0BDH     ; ADC0 DATA LOW                                            

  00BE          +1    78     ADC0H    DATA  0BEH     ; ADC0 DATA HIGH                                           

  00C0          +1    79     SMB0CN   DATA  0C0H     ; SMBUS CONTROL                                            

  00C1          +1    80     SMB0CF   DATA  0C1H     ; SMBUS CONFIGURATION                                      

  00C2          +1    81     SMB0DAT  DATA  0C2H     ; SMBUS DATA                                             

  00C3          +1    82     ADC0GTL  DATA  0C3H     ; ADC0 GREATER-THAN LOW                                    

  00C4          +1    83     ADC0GTH  DATA  0C4H     ; ADC0 GREATER-THAN HIGH                                   

  00C5          +1    84     ADC0LTL  DATA  0C5H     ; ADC0 LESS-THAN LOW                                       

  00C6          +1    85     ADC0LTH  DATA  0C6H     ; ADC0 LESS-THAN HIGH                                      

  00C8          +1    86     TMR2CN   DATA  0C8H     ; TIMER 2 CONTROL                                                

  00CA          +1    87     TMR2RLL  DATA  0CAH     ; TIMER 2 RELOAD LOW                                       

  00CB          +1    88     TMR2RLH  DATA  0CBH     ; TIMER 2 RELOAD HIGH                                      

  00CC          +1    89     TMR2L    DATA  0CCH     ; TIMER 2 LOW BYTE                                         

  00CD          +1    90     TMR2H    DATA  0CDH     ; TIMER 2 HIGH BYTE                                        

  00D0          +1    91     PSW      DATA  0D0H     ; PROGRAM STATUS WORD                                      

  00D1          +1    92     REF0CN   DATA  0D1H     ; VOLTAGE REFERENCE 0 CONTROL                              

  00D4          +1    93     P0SKIP   DATA  0D4H     ; PORT 0 CROSSBAR SKIP                                     

  00D5          +1    94     P1SKIP   DATA  0D5H     ; PORT 1 CROSSBAR SKIP                                     

  00D6          +1    95     P2SKIP   DATA  0D6H     ; PORT 2 CROSSBAR SKIP     

  00D8          +1    96     PCA0CN   DATA  0D8H     ; PCA0 CONTROL                                             

  00D9          +1    97     PCA0MD   DATA  0D9H     ; PCA0 MODE                                                

  00DA          +1    98     PCA0CPM0 DATA  0DAH     ; PCA0 MODULE 0 MODE                                       

  00DB          +1    99     PCA0CPM1 DATA  0DBH     ; PCA0 MODULE 1 MODE                                       

  00DC          +1   100     PCA0CPM2 DATA  0DCH     ; PCA0 MODULE 2 MODE     

  00DD          +1   101     PCA0CPM3 DATA  0DDH     ; PCA0 MODULE 3 MODE                                       

  00DE          +1   102     PCA0CPM4 DATA  0DEH     ; PCA0 MODULE 4 MODE                                    

  00E0          +1   103     ACC      DATA  0E0H     ; ACCUMULATOR                                              

  00E1          +1   104     XBR0     DATA  0E1H     ; DIGITAL CROSSBAR CONFIGURATION REGISTER 0                

  00E2          +1   105     XBR1     DATA  0E2H     ; DIGITAL CROSSBAR CONFIGURATION REGISTER 1                

  00E4          +1   106     IT01CF   DATA  0E4H     ; INT0/INT1 CONFIGURATION                                  

  00E6          +1   107     EIE1     DATA  0E6H     ; EXTERNAL INTERRUPT ENABLE 1                     

  00E8          +1   108     ADC0CN   DATA  0E8H     ; ADC 0 CONTROL                                            

  00E9          +1   109     PCA0CPL1 DATA  0E9H     ; PCA0 MODULE 1 CAPTURE/COMPARE REGISTER LOW BYTE          

  00EA          +1   110     PCA0CPH1 DATA  0EAH     ; PCA0 MODULE 1 CAPTURE/COMPARE REGISTER HIGH BYTE         

  00EB          +1   111     PCA0CPL2 DATA  0EBH     ; PCA0 MODULE 2 CAPTURE/COMPARE REGISTER LOW BYTE          

  00EC          +1   112     PCA0CPH2 DATA  0ECH     ; PCA0 MODULE 2 CAPTURE/COMPARE REGISTER HIGH BYTE         

  00ED          +1   113     PCA0CPL3 DATA  0EDH     ; PCA0 MODULE 3 CAPTURE/COMPARE REGISTER LOW BYTE          

  00EE          +1   114     PCA0CPH3 DATA  0EEH     ; PCA0 MODULE 3 CAPTURE/COMPARE REGISTER HIGH BYTE         

  00EF          +1   115     RSTSRC   DATA  0EFH     ; RESET SOURCE                                             

  00F0          +1   116     B        DATA  0F0H     ; B REGISTER                                               

  00F1          +1   117     P0MDIN   DATA  0F1H     ; PORT 0 INPUT MODE REGISTER                               

  00F2          +1   118     P1MDIN   DATA  0F2H     ; PORT 1 INPUT MODE REGISTER                               

  00F3          +1   119     P2MDIN   DATA  0F3H     ; PORT 2 INPUT MODE REGISTER                               

  00F4          +1   120     P3MDIN   DATA  0F4H     ; PORT 3 INPUT MODE REGISTER                               

  00F6          +1   121     EIP1     DATA  0F6H     ; EXTERNAL INTERRUPT PRIORITY 1

  00F8          +1   122     SPI0CN   DATA  0F8H     ; SPI0 CONTROL                                             

  00F9          +1   123     PCA0L    DATA  0F9H     ; PCA0 COUNTER REGISTER LOW BYTE                           

A51 MACRO ASSEMBLER  TEST3                                                                11/15/2017 18:41:37 PAGE     3

  00FA          +1   124     PCA0H    DATA  0FAH     ; PCA0 COUNTER REGISTER HIGH BYTE                          

  00FB          +1   125     PCA0CPL0 DATA  0FBH     ; PCA MODULE 0 CAPTURE/COMPARE REGISTER LOW BYTE           

  00FC          +1   126     PCA0CPH0 DATA  0FCH     ; PCA MODULE 0 CAPTURE/COMPARE REGISTER HIGH BYTE          

  00FD          +1   127     PCA0CPL4 DATA  0FDH     ; PCA MODULE 4 CAPTURE/COMPARE REGISTER LOW BYTE           

  00FE          +1   128     PCA0CPH4 DATA  0FEH     ; PCA MODULE 4 CAPTURE/COMPARE REGISTER HIGH BYTE      

  00FF          +1   129     VDM0CN    DATA  0FFH ; VDD MONITOR CONTROL

                +1   130     

                +1   131     ;------------------------------------------------------------------------------

                +1   132     ;BIT DEFINITIONS

                +1   133     ;

                +1   134     ; TCON 88H

  0088          +1   135     IT0      BIT   TCON.0   ; EXT. INTERRUPT 0 TYPE

  0089          +1   136     IE0      BIT   TCON.1   ; EXT. INTERRUPT 0 EDGE FLAG

  008A          +1   137     IT1      BIT   TCON.2   ; EXT. INTERRUPT 1 TYPE

  008B          +1   138     IE1      BIT   TCON.3   ; EXT. INTERRUPT 1 EDGE FLAG

  008C          +1   139     TR0      BIT   TCON.4   ; TIMER 0 ON/OFF CONTROL

  008D          +1   140     TF0      BIT   TCON.5   ; TIMER 0 OVERFLOW FLAG

  008E          +1   141     TR1      BIT   TCON.6   ; TIMER 1 ON/OFF CONTROL

  008F          +1   142     TF1      BIT   TCON.7   ; TIMER 1 OVERFLOW FLAG

                +1   143     

                +1   144     ; SCON0  0x98 

  0098          +1   145     RI0      BIT   SCON0.0  ; RECEIVE INTERRUPT FLAG                                

  0099          +1   146     TI0      BIT   SCON0.1  ; TRANSMIT INTERRUPT FLAG                               

  009A          +1   147     RB80     BIT   SCON0.2  ; RECEIVE BIT 8                                         

  009B          +1   148     TB80     BIT   SCON0.3  ; TRANSMIT BIT 8                                        

  009C          +1   149     REN0     BIT   SCON0.4  ; RECEIVE ENABLE                                        

  009D          +1   150     MCE0     BIT   SCON0.5  ; MULTIPROCESSOR COMMUNICATION ENABLE                   

  009F          +1   151     S0MODE   BIT   SCON0.7  ; SERIAL MODE CONTROL BIT 0                             

                +1   152     

                +1   153     ; IE  0xA8 

  00A8          +1   154     EX0      BIT   IE.0     ; EXTERNAL INTERRUPT 0 ENABLE                           

  00A9          +1   155     ET0      BIT   IE.1     ; TIMER 0 INTERRUPT ENABLE                              

  00AA          +1   156     EX1      BIT   IE.2     ; EXTERNAL INTERRUPT 1 ENABLE                           

  00AB          +1   157     ET1      BIT   IE.3     ; TIMER 1 INTERRUPT ENABLE                              

  00AC          +1   158     ES0      BIT   IE.4     ; UART0 INTERRUPT ENABLE                                

  00AD          +1   159     ET2      BIT   IE.5     ; TIMER 2 INTERRUPT ENABLE                              

  00AE          +1   160     ESPI0    BIT   IE.6     ; SPI0 INTERRUPT ENABLE

  00AF          +1   161     EA       BIT   IE.7     ; GLOBAL INTERRUPT ENABLE                               

                +1   162     

                +1   163     ; IP  0xB8 

  00B8          +1   164     PX0      BIT   IP.0     ; EXTERNAL INTERRUPT 0 PRIORITY                         

  00B9          +1   165     PT0      BIT   IP.1     ; TIMER 0 PRIORITY                                      

  00BA          +1   166     PX1      BIT   IP.2     ; EXTERNAL INTERRUPT 1 PRIORITY                         

  00BB          +1   167     PT1      BIT   IP.3     ; TIMER 1 PRIORITY                                      

  00BC          +1   168     PS0      BIT   IP.4     ; UART0 PRIORITY                                        

  00BD          +1   169     PT2      BIT   IP.5     ; TIMER 2 PRIORITY                                      

  00BE          +1   170     PSPI0    BIT   IP.6     ; SPI0 INTERRUPT PRIORITY

                +1   171     

                +1   172     ; SMB0CN 0xC0 

  00C0          +1   173     SI       BIT   SMB0CN.0 ; SMBUS0 INTERRUPT FLAG                                 

  00C1          +1   174     ACK      BIT   SMB0CN.1 ; ACKNOWLEDGE FLAG                                      

  00C2          +1   175     ARBLOST  BIT   SMB0CN.2 ; ARBITRATION LOST INDICATOR                            

  00C3          +1   176     ACKRQ    BIT   SMB0CN.3 ; ACKNOWLEDGE REQUEST                                   

  00C4          +1   177     STO      BIT   SMB0CN.4 ; STOP FLAG                                             

  00C5          +1   178     STA      BIT   SMB0CN.5 ; START FLAG                                            

  00C6          +1   179     TXMODE   BIT   SMB0CN.6 ; TRANSMIT MODE INDICATOR                               

  00C7          +1   180     MASTER   BIT   SMB0CN.7 ; MASTER/SLAVE INDICATOR                                

                +1   181     

                +1   182     ; TMR2CN 0xC8 

  00C8          +1   183     T2XCLK   BIT   TMR2CN.0 ; TIMER 2 EXTERNAL CLOCK SELECT                         

  00CA          +1   184     TR2      BIT   TMR2CN.2 ; TIMER 2 ON/OFF CONTROL                                

  00CB          +1   185     T2SPLIT  BIT   TMR2CN.3 ; TIMER 2 SPLIT MODE ENABLE                             

  00CD          +1   186     TF2LEN   BIT   TMR2CN.5 ; TIMER 2 LOW BYTE INTERRUPT ENABLE                     

  00CE          +1   187     TF2L     BIT   TMR2CN.6 ; TIMER 2 LOW BYTE OVERFLOW FLAG                        

  00CF          +1   188     TF2H     BIT   TMR2CN.7 ; TIMER 2 HIGH BYTE OVERFLOW FLAG                       

                +1   189     

A51 MACRO ASSEMBLER  TEST3                                                                11/15/2017 18:41:37 PAGE     4

                +1   190     ; PSW 0xD0 

  00D0          +1   191     P        BIT   PSW.0    ; ACCUMULATOR PARITY FLAG                               

  00D1          +1   192     F1       BIT   PSW.1    ; USER FLAG 1                                           

  00D2          +1   193     OV       BIT   PSW.2    ; OVERFLOW FLAG                                         

  00D3          +1   194     RS0      BIT   PSW.3    ; REGISTER BANK SELECT 0                                

  00D4          +1   195     RS1      BIT   PSW.4    ; REGISTER BANK SELECT 1                                

  00D5          +1   196     F0       BIT   PSW.5    ; USER FLAG 0                                           

  00D6          +1   197     AC       BIT   PSW.6    ; AUXILIARY CARRY FLAG                                  

  00D7          +1   198     CY       BIT   PSW.7    ; CARRY FLAG                                            

                +1   199     

                +1   200     ; PCA0CN 0xD8H 

  00D8          +1   201     CCF0     BIT   PCA0CN.0 ; PCA0 MODULE 0 CAPTURE/COMPARE FLAG                    

  00D9          +1   202     CCF1     BIT   PCA0CN.1 ; PCA0 MODULE 1 CAPTURE/COMPARE FLAG                    

  00DA          +1   203     CCF2     BIT   PCA0CN.2 ; PCA0 MODULE 2 CAPTURE/COMPARE FLAG                    

  00DB          +1   204     CCF3     BIT   PCA0CN.3 ; PCA0 MODULE 3 CAPTURE/COMPARE FLAG                    

  00DC          +1   205     CCF4     BIT   PCA0CN.4 ; PCA0 MODULE 4 CAPTURE/COMPARE FLAG                    

  00DE          +1   206     CR       BIT   PCA0CN.6 ; PCA0 COUNTER RUN CONTROL                              

  00DF          +1   207     CF       BIT   PCA0CN.7 ; PCA0 COUNTER OVERFLOW FLAG                            

                +1   208     

                +1   209     ; ADC0CN 0xE8H 

  00E8          +1   210     AD0CM0   BIT   ADC0CN.0 ; ADC0 CONVERSION MODE SELECT 0                         

  00E9          +1   211     AD0CM1   BIT   ADC0CN.1 ; ADC0 CONVERSION MODE SELECT 1                         

  00EA          +1   212     AD0CM2   BIT   ADC0CN.2 ; ADC0 CONVERSION MODE SELECT 2                         

  00EB          +1   213     AD0WINT  BIT   ADC0CN.3 ; ADC0 WINDOW COMPARE INTERRUPT FLAG                    

  00EC          +1   214     AD0BUSY  BIT   ADC0CN.4 ; ADC0 BUSY FLAG                                        

  00ED          +1   215     AD0INT   BIT   ADC0CN.5 ; ADC0 CONVERISION COMPLETE INTERRUPT FLAG              

  00EE          +1   216     AD0TM    BIT   ADC0CN.6 ; ADC0 TRACK MODE                                       

  00EF          +1   217     AD0EN    BIT   ADC0CN.7 ; ADC0 ENABLE                                           

                +1   218     

                +1   219     ; SPI0CN 0xF8H 

  00FF          +1   220     SPIF     BIT   SPI0CN.7 ; SPI 0 INTERRUPT FLAG                                  

  00FE          +1   221     WCOL     BIT   SPI0CN.6 ; SPI 0 WRITE COLLISION FLAG                            

  00FD          +1   222     MODF     BIT   SPI0CN.5 ; SPI 0 MODE FAULT FLAG                                 

  00FC          +1   223     RXOVRN   BIT   SPI0CN.4 ; SPI 0 RX OVERRUN FLAG                                 

  00FB          +1   224     NSSMD1   BIT   SPI0CN.3 ; SPI 0 SLAVE SELECT MODE 1                             

  00FA          +1   225     NSSMD0   BIT   SPI0CN.2 ; SPI 0 SLAVE SELECT MODE 0                             

  00F9          +1   226     TXBMT    BIT   SPI0CN.1 ; SPI 0 TRANSMIT BUFFER EMPTY                           

  00F8          +1   227     SPIEN    BIT   SPI0CN.0 ; SPI 0 SPI ENABLE                                      

                     228     

                     229     ;$include (GlobalVars.inc)

                +1   230     ; 08H~1FH:  local variables(arguments) & global variables

                +1   231     ; 20H~27H:  bits (00H~3FH)

                +1   232     ; 30H~7FH:  stack & global variables

                +1   233     

                +1   234     ; A,B,C:      volatile

                +1   235     

                +1   236     

  0018          +1   237     Timer_CNT1                      EQU             18H

  001F          +1   238     Timer_CNT8                      EQU             1FH

                +1   239             

                +1   240     

  0017          +1   241     Timer_CTRL                      EQU             17H      ;H |1|2|3|4|5|6|7|8| L

                +1   242             

  0016          +1   243     LEDs_Pattern            EQU             16H

                +1   244             

  0015          +1   245     Keys_LastCode           EQU             15H

                +1   246             

  0014          +1   247     Beep_Count                      EQU             14H

  0013          +1   248     Beep_Total                      EQU             13H

  0012          +1   249     Beep_State                      EQU             12H

                +1   250             

  0011          +1   251     g_Digit1                        EQU             11H       ;Digit1~2

  0010          +1   252     g_Digit2                        EQU             10H       ;Digit3~4

                +1   253     

  007F          +1   254     TEST3_MainState         EQU             7FH

                +1   255     

A51 MACRO ASSEMBLER  TEST3                                                                11/15/2017 18:41:37 PAGE     5

  007E          +1   256     PASSWORD_State          EQU             7EH

  007D          +1   257     PASSWORD_PSW1           EQU             7DH

  007C          +1   258     PASSWORD_PSW2           EQU             7CH

  007B          +1   259     HOMEWORK_Count          EQU             7BH

  007A          +1   260     HOMEWORK_Second1        EQU             7AH

  0079          +1   261     HOMEWORK_Second2        EQU             79H

  0078          +1   262     HOMEWORK_Second3        EQU             78H

  0077          +1   263     HOMEWORK_Second         EQU             77H

  0076          +1   264     CALCULATE_NUM           EQU             76H

  0075          +1   265     CALCULATE_1                     EQU             75H

  0074          +1   266     CALCULATE_2                     EQU             74H

                +1   267     

                +1   268     

                +1   269     

  0020          +1   270     g_LEDs                          EQU             20H

  0000          +1   271     g_LED1                          BIT             00H

  0001          +1   272     g_LED2                          BIT             01H

  0002          +1   273     g_LED3                          BIT             02H

  0003          +1   274     g_LED4                          BIT             03H

  0004          +1   275     g_LED5                          BIT             04H

  0005          +1   276     g_LED6                          BIT             05H

  0006          +1   277     g_LED7                          BIT             06H

  0007          +1   278     g_LED8                          BIT             07H

                +1   279             

  0008          +1   280     INT_C_old                       BIT             08H

                +1   281             

  0009          +1   282     INIT_KeLED                      BIT             09H

  0010          +1   283     INIT_KeBeep                     BIT             10H

  0011          +1   284     INIT_KeKeys                     BIT             11H

  0012          +1   285     INIT_LED                        BIT             12H

  0013          +1   286     INIT_Beep                       BIT             13H

  0014          +1   287     INIT_Timer                      BIT             14H

  0015          +1   288     INIT_KeTimer2           BIT             15H

  0016          +1   289     INIT_KeLEDs                     BIT             16H

  0017          +1   290     INIT_LEDs                       BIT             17H

  0018          +1   291     INIT_Keys                       BIT             18H

  0019          +1   292     INIT_KeDigits           BIT             19H

  001A          +1   293     INIT_Digits                     BIT             1AH

                +1   294     ;INIT_

                +1   295     ;INIT_

                +1   296     ;INIT_

                +1   297     ;INIT_

                +1   298     

  0024          +1   299     Digits_State            EQU             24H    

  0020          +1   300     Digits_State7           BIT             20H

  0027          +1   301     Digits_State0           BIT             27H

                +1   302             

  0025          +1   303     g_DigitState            EQU             25H       ;H |S41|S40|S31|S30|S21|S20|S11|S10|

  0028          +1   304     g_DigitState7           BIT             28H           ;Sn1 Sn0:

  002F          +1   305     g_DigitState0           BIT             2FH               ;    00normal  01dp  10 light  11
                              close

                +1   306             

  0026          +1   307     Digits_LastState        EQU             26H

  0030          +1   308     Digits_LastState0       BIT             30H

  0037          +1   309     Digits_LastState7       BIT             37H

                +1   310             

  0027          +1   311     HOMEWORK_State          EQU             27H

  0038          +1   312     HOMEWORK_State7         BIT             38H

  003F          +1   313     HOMEWORK_State0         BIT             3FH

  0040          +1   314     CAL_STATE1                      BIT             40H

  0041          +1   315     CAL_STATE2                      BIT             41H

  0042          +1   316     CAL_STATE3                      BIT             42H

                +1   317     

                     318     

                     319     ;$include (LED.inc)

                +1   320     EXTRN   CODE    (LED_init)

A51 MACRO ASSEMBLER  TEST3                                                                11/15/2017 18:41:37 PAGE     6

                +1   321     EXTRN   CODE    (LED_on)

                +1   322     EXTRN   CODE    (LED_off)

                +1   323     EXTRN   CODE    (LED_switch)

                     324     

                     325     ;$include (Beep.inc)

                +1   326     EXTRN   CODE    (Beep_Init)

                +1   327     EXTRN   CODE    (Beep_On)

                +1   328     EXTRN   CODE    (Beep_Off)

                +1   329     EXTRN   CODE    (Beep_Switch)

                +1   330             

                +1   331     ; beep for 0.1s, asynchronous

                +1   332     EXTRN   CODE    (Beep_1Async)

                +1   333             

                +1   334             

                +1   335     ; beep for 0.8s, asynchronous

                +1   336     EXTRN   CODE    (Beep_2Async)

                +1   337             

                +1   338             

                +1   339     ; 2 beeps, each for 0.2s, with an interval of 0.1s, asynchronous

                +1   340     EXTRN   CODE    (Beep_3Async)

                +1   341             

                +1   342             

                +1   343             

                     344     

                     345     ;$include (Timer.inc)

                +1   346     ;Timer_0 will start immediately

                +1   347     ;Timer_n(1~8) will start only after you call the Timer_Start function

                +1   348     ;Timer_0 cannot be stopped by Timer_Stop function

                +1   349     EXTRN   CODE    (Timer_Init)

                +1   350             

                +1   351             

                +1   352             

                +1   353     ;arguments:

                +1   354     ;    08H  n

                +1   355     ;return:

                +1   356     ;    returns 0 if Timer_n is not running

                +1   357     EXTRN   CODE    (Timer_CheckCTRL)

                +1   358             

                +1   359             

                +1   360             

                +1   361     ;arguments:

                +1   362     ;    08H  n

                +1   363     EXTRN   CODE    (Timer_Start)

                +1   364             

                +1   365             

                +1   366             

                +1   367     ;arguments:

                +1   368     ;    08H  n

                +1   369     EXTRN   CODE    (Timer_Stop)

                     370     

                     371     ;$include (LEDs.inc)

                +1   372     EXTRN   CODE    (LEDs_Init)

                +1   373     EXTRN   CODE    (LEDs_Next)

                +1   374     EXTRN   CODE    (LEDs_Clear)

                +1   375     EXTRN   CODE    (LEDs_Start)

                +1   376     EXTRN   CODE    (LEDs_Stop)

                +1   377             

                     378     

                     379     ;$include (Keys.inc)

                +1   380     ;CallBack:

                +1   381     ;    Keys_CB

                +1   382     ;        arguments:

                +1   383     ;            08H  key code

                +1   384     

                +1   385     EXTRN   CODE    (Keys_Init)

                +1   386             

A51 MACRO ASSEMBLER  TEST3                                                                11/15/2017 18:41:37 PAGE     7

                +1   387             

                     388     

                     389     ;$include (Digits.inc)

                +1   390     ;g_DigitState:  

                +1   391     ;    H |S41|S40|S31|S30|S21|S20|S11|S10|

                +1   392     ;    Sn1 Sn0:

                +1   393     ;        00normal  01dp  10 light  11 close

                +1   394     

                +1   395     ;g_Digit1:    Digit1~2

                +1   396     ;g_Digit2:    Digit3~4

                +1   397     

                +1   398     EXTRN   CODE    (Digits_Init)

                +1   399     EXTRN   CODE    (Digits_Sweep)

                +1   400     EXTRN   CODE    (Digits_StartBlink4)

                +1   401     EXTRN   CODE    (Digits_StartBlink3)

                +1   402     EXTRN   CODE    (Digits_StartBlink2)

                +1   403     EXTRN   CODE    (Digits_StartBlink1)

                +1   404     EXTRN   CODE    (Digits_StopBlink4)

                +1   405     EXTRN   CODE    (Digits_StopBlink3)

                +1   406     EXTRN   CODE    (Digits_StopBlink2)

                +1   407     EXTRN   CODE    (Digits_StopBlink1)

                     408     

                     409     ;$include (CAL.INC)

                +1   410     EXTRN   CODE    (CAL_MAIN)

                +1   411     EXTRN   CODE    (Cal_KEYEVENT)

                +1   412             

                +1   413             

                +1   414             

                     415     

                     416             

                     417     ;$include (password.inc)

                +1   418     EXTRN   CODE    (Password_Main)

                +1   419     EXTRN   CODE    (Password_KeyEvent)

                     420     

                     421     ;$include (homework.inc)

                +1   422     EXTRN   CODE    (Homework_Main)

                +1   423     EXTRN   CODE    (Homework_KeyEvent)

                +1   424             

                     425     

                     426             

                     427     

                     428     

                     429     PUBLIC  TEST3_ChangeState

                     430             

                     431     PUBLIC  MAIN

                     432     PUBLIC  Keys_CB

                     433     

                     434     

                     435     

                     436             

                     437     

                     438     

  00B1               439     BEEP    BIT     P3.1

  0081               440     KINT    BIT     P0.1

                     441     

                     442     

                     443     

                     444     TEST3   SEGMENT CODE

----                 445                     RSEG    TEST3

                     446                     

0000                 447     MAIN:   

0000 C008            448                     PUSH    08H

0002 D2AF            449                     SETB    EA

                     450                     

0004 120000   F      451                     LCALL   Beep_Init

0007 120000   F      452                     LCALL   Timer_Init

A51 MACRO ASSEMBLER  TEST3                                                                11/15/2017 18:41:37 PAGE     8

000A 120000   F      453                     LCALL   LEDs_Init

000D 120000   F      454                     LCALL   Keys_Init

0010 120000   F      455                     LCALL   Digits_Init

                     456                     

0013 750801          457                     MOV             08H,#1

0016 120000   F      458                     LCALL   TEST3_ChangeState

                     459                     

0019                 460                     SWEEP:

0019 120000   F      461                     LCALL   Digits_Sweep

001C 120000   F      462                     LCALL   DELAY

001F 80F8            463                     SJMP    SWEEP

                     464     

0021 D008            465                     POP             08H

0023 22              466                     RET

                     467     

                     468     

0024                 469     DELAY:

0024 C002            470                     PUSH    02H

0026 C003            471                     PUSH    03H

                     472     

0028 7B17            473                     MOV             R3,#17H

002A                 474     DELAY_LOOP1:

002A 7AFF            475                     MOV             R2,#0FFH

002C                 476     DELAY_LOOP2:

002C DAFE            477                     DJNZ    R2,DELAY_LOOP2

002E DBFA            478                     DJNZ    R3,DELAY_LOOP1

                     479                     

                     480                     

0030 D003            481                     POP             03H

0032 D002            482                     POP             02H

0034 22              483                     RET

                     484     

                     485     

                     486     

                     487     ;arguments:

                     488     ;    08H  state

0035                 489     TEST3_ChangeState:

0035 85087F          490                     MOV             TEST3_MainState,08H

                     491                     

0038 E57F            492                     MOV             A,TEST3_MainState

                     493                     

003A                 494     ChangeState_STATE0:

003A B40002          495                     CJNE    A,#0,ChangeState_STATE1

                     496                     

003D 8018            497                     SJMP    FINISHSTATE

                     498                     

003F                 499     ChangeState_STATE1:

003F B40105          500                     CJNE    A,#1,ChangeState_STATE2

0042 120000   F      501                     LCALL   Password_Main

0045 8010            502                     SJMP    FINISHSTATE

                     503                     

0047                 504     ChangeState_STATE2:

0047 B40205          505                     CJNE    A,#2,ChangeState_STATE3

004A 120000   F      506                     LCALL   Homework_Main

004D 8008            507                     SJMP    FINISHSTATE

                     508                     

004F                 509     ChangeState_STATE3:

004F B40305          510                     CJNE    A,#3,ChangeState_STATE4

0052 120000   F      511                     LCALL   CAL_MAIN

0055 8000            512                     SJMP    FINISHSTATE

                     513                     

0057                 514     ChangeState_STATE4:

                     515                     

0057                 516     FINISHSTATE:

                     517     

0057 22              518                     RET

A51 MACRO ASSEMBLER  TEST3                                                                11/15/2017 18:41:37 PAGE     9

                     519     

                     520     

                     521     

                     522     

                     523     ;arguments:

                     524     ;    08H  key code

0058                 525     Keys_CB:

0058 C008            526                     PUSH    08H

005A E508            527                     MOV             A,08H

005C B40F16          528                     CJNE    A,#15,NORMAL

                     529                     

005F E57F            530                     MOV             A,TEST3_MainState

0061                 531     SWITCH1:

0061 B40207          532                     CJNE    A,#2,SWITCH2

0064 750803          533                     MOV             08H,#3

0067 1100     F      534                     ACALL   TEST3_ChangeState

0069 8029            535                     SJMP    FINISHKEY

006B                 536     SWITCH2:

006B B40326          537                     CJNE    A,#3,FINISHKEY

006E 750802          538                     MOV             08H,#2

0071 1100     F      539                     ACALL   TEST3_ChangeState

0073 801F            540                     SJMP    FINISHKEY

                     541     

                     542     

0075                 543     NORMAL:

0075 E57F            544                     MOV             A,TEST3_MainState

                     545                     

0077                 546     Keys_STATE0:

0077 B40002          547                     CJNE    A,#0,Keys_STATE1

                     548                     

007A 8018            549                     SJMP    FINISHKEY

                     550                     

007C                 551     Keys_STATE1:

007C B40105          552                     CJNE    A,#1,Keys_STATE2

007F 120000   F      553                     LCALL   Password_KeyEvent

0082 8010            554                     SJMP    FINISHKEY

                     555                     

0084                 556     Keys_STATE2:

0084 B40205          557                     CJNE    A,#2,Keys_STATE3

0087 120000   F      558                     LCALL   Homework_KeyEvent

008A 8008            559                     SJMP    FINISHKEY

                     560                     

008C                 561     Keys_STATE3:

008C B40305          562                     CJNE    A,#3,Keys_STATE4

008F 120000   F      563                     LCALL   Cal_KEYEVENT

0092 8000            564                     SJMP    FINISHKEY

                     565                     

0094                 566     Keys_STATE4:

                     567                     

0094                 568     FINISHKEY:

0094 D008            569                     POP             08H

0096 22              570                     RET

                     571     

                     572     

                     573     

                     574     

                     575     

                     576                     

                     577     

                     578                     

                     579                     

                     580                     

                     581                     

                     582                     

                     583                     

                     584                     END

A51 MACRO ASSEMBLER  TEST3                                                                11/15/2017 18:41:37 PAGE    10

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

AC . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . .  D ADDR   00E0H   A   
ACK. . . . . . . .  B ADDR   00C0H.1 A   
ACKRQ. . . . . . .  B ADDR   00C0H.3 A   
AD0BUSY. . . . . .  B ADDR   00E8H.4 A   
AD0CM0 . . . . . .  B ADDR   00E8H.0 A   
AD0CM1 . . . . . .  B ADDR   00E8H.1 A   
AD0CM2 . . . . . .  B ADDR   00E8H.2 A   
AD0EN. . . . . . .  B ADDR   00E8H.7 A   
AD0INT . . . . . .  B ADDR   00E8H.5 A   
AD0TM. . . . . . .  B ADDR   00E8H.6 A   
AD0WINT. . . . . .  B ADDR   00E8H.3 A   
ADC0CF . . . . . .  D ADDR   00BCH   A   
ADC0CN . . . . . .  D ADDR   00E8H   A   
ADC0GTH. . . . . .  D ADDR   00C4H   A   
ADC0GTL. . . . . .  D ADDR   00C3H   A   
ADC0H. . . . . . .  D ADDR   00BEH   A   
ADC0L. . . . . . .  D ADDR   00BDH   A   
ADC0LTH. . . . . .  D ADDR   00C6H   A   
ADC0LTL. . . . . .  D ADDR   00C5H   A   
AMX0N. . . . . . .  D ADDR   00BAH   A   
AMX0P. . . . . . .  D ADDR   00BBH   A   
ARBLOST. . . . . .  B ADDR   00C0H.2 A   
B. . . . . . . . .  D ADDR   00F0H   A   
BEEP . . . . . . .  B ADDR   00B0H.1 A   
BEEP_1ASYNC. . . .  C ADDR   -----       EXT
BEEP_2ASYNC. . . .  C ADDR   -----       EXT
BEEP_3ASYNC. . . .  C ADDR   -----       EXT
BEEP_COUNT . . . .  N NUMB   0014H   A   
BEEP_INIT. . . . .  C ADDR   -----       EXT
BEEP_OFF . . . . .  C ADDR   -----       EXT
BEEP_ON. . . . . .  C ADDR   -----       EXT
BEEP_STATE . . . .  N NUMB   0012H   A   
BEEP_SWITCH. . . .  C ADDR   -----       EXT
BEEP_TOTAL . . . .  N NUMB   0013H   A   
CALCULATE_1. . . .  N NUMB   0075H   A   
CALCULATE_2. . . .  N NUMB   0074H   A   
CALCULATE_NUM. . .  N NUMB   0076H   A   
CAL_KEYEVENT . . .  C ADDR   -----       EXT
CAL_MAIN . . . . .  C ADDR   -----       EXT
CAL_STATE1 . . . .  B ADDR   0028H.0 A   
CAL_STATE2 . . . .  B ADDR   0028H.1 A   
CAL_STATE3 . . . .  B ADDR   0028H.2 A   
CCF0 . . . . . . .  B ADDR   00D8H.0 A   
CCF1 . . . . . . .  B ADDR   00D8H.1 A   
CCF2 . . . . . . .  B ADDR   00D8H.2 A   
CCF3 . . . . . . .  B ADDR   00D8H.3 A   
CCF4 . . . . . . .  B ADDR   00D8H.4 A   
CF . . . . . . . .  B ADDR   00D8H.7 A   
CHANGESTATE_STATE0  C ADDR   003AH   R   SEG=TEST3
CHANGESTATE_STATE1  C ADDR   003FH   R   SEG=TEST3
CHANGESTATE_STATE2  C ADDR   0047H   R   SEG=TEST3
CHANGESTATE_STATE3  C ADDR   004FH   R   SEG=TEST3
CHANGESTATE_STATE4  C ADDR   0057H   R   SEG=TEST3
CKCON. . . . . . .  D ADDR   008EH   A   
CLKSEL . . . . . .  D ADDR   00A9H   A   
CPT0CN . . . . . .  D ADDR   009BH   A   
CPT0MD . . . . . .  D ADDR   009DH   A   
CPT0MX . . . . . .  D ADDR   009FH   A   
CPT1CN . . . . . .  D ADDR   009AH   A   
A51 MACRO ASSEMBLER  TEST3                                                                11/15/2017 18:41:37 PAGE    11

CPT1MD . . . . . .  D ADDR   009CH   A   
CPT1MX . . . . . .  D ADDR   009EH   A   
CR . . . . . . . .  B ADDR   00D8H.6 A   
CY . . . . . . . .  B ADDR   00D0H.7 A   
DELAY. . . . . . .  C ADDR   0024H   R   SEG=TEST3
DELAY_LOOP1. . . .  C ADDR   002AH   R   SEG=TEST3
DELAY_LOOP2. . . .  C ADDR   002CH   R   SEG=TEST3
DIGITS_INIT. . . .  C ADDR   -----       EXT
DIGITS_LASTSTATE .  N NUMB   0026H   A   
DIGITS_LASTSTATE0.  B ADDR   0026H.0 A   
DIGITS_LASTSTATE7.  B ADDR   0026H.7 A   
DIGITS_STARTBLINK1  C ADDR   -----       EXT
DIGITS_STARTBLINK2  C ADDR   -----       EXT
DIGITS_STARTBLINK3  C ADDR   -----       EXT
DIGITS_STARTBLINK4  C ADDR   -----       EXT
DIGITS_STATE . . .  N NUMB   0024H   A   
DIGITS_STATE0. . .  B ADDR   0024H.7 A   
DIGITS_STATE7. . .  B ADDR   0024H.0 A   
DIGITS_STOPBLINK1.  C ADDR   -----       EXT
DIGITS_STOPBLINK2.  C ADDR   -----       EXT
DIGITS_STOPBLINK3.  C ADDR   -----       EXT
DIGITS_STOPBLINK4.  C ADDR   -----       EXT
DIGITS_SWEEP . . .  C ADDR   -----       EXT
DPH. . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . .  D ADDR   0082H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
EIE1 . . . . . . .  D ADDR   00E6H   A   
EIP1 . . . . . . .  D ADDR   00F6H   A   
EMI0CN . . . . . .  D ADDR   00AAH   A   
ES0. . . . . . . .  B ADDR   00A8H.4 A   
ESPI0. . . . . . .  B ADDR   00A8H.6 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . .  B ADDR   00A8H.2 A   
F0 . . . . . . . .  B ADDR   00D0H.5 A   
F1 . . . . . . . .  B ADDR   00D0H.1 A   
FINISHKEY. . . . .  C ADDR   0094H   R   SEG=TEST3
FINISHSTATE. . . .  C ADDR   0057H   R   SEG=TEST3
FLACL. . . . . . .  D ADDR   00B5H   A   
FLKEY. . . . . . .  D ADDR   00B7H   A   
FLSCL. . . . . . .  D ADDR   00B6H   A   
G_DIGIT1 . . . . .  N NUMB   0011H   A   
G_DIGIT2 . . . . .  N NUMB   0010H   A   
G_DIGITSTATE . . .  N NUMB   0025H   A   
G_DIGITSTATE0. . .  B ADDR   0025H.7 A   
G_DIGITSTATE7. . .  B ADDR   0025H.0 A   
G_LED1 . . . . . .  B ADDR   0020H.0 A   
G_LED2 . . . . . .  B ADDR   0020H.1 A   
G_LED3 . . . . . .  B ADDR   0020H.2 A   
G_LED4 . . . . . .  B ADDR   0020H.3 A   
G_LED5 . . . . . .  B ADDR   0020H.4 A   
G_LED6 . . . . . .  B ADDR   0020H.5 A   
G_LED7 . . . . . .  B ADDR   0020H.6 A   
G_LED8 . . . . . .  B ADDR   0020H.7 A   
G_LEDS . . . . . .  N NUMB   0020H   A   
HOMEWORK_COUNT . .  N NUMB   007BH   A   
HOMEWORK_KEYEVENT.  C ADDR   -----       EXT
HOMEWORK_MAIN. . .  C ADDR   -----       EXT
HOMEWORK_SECOND. .  N NUMB   0077H   A   
HOMEWORK_SECOND1 .  N NUMB   007AH   A   
HOMEWORK_SECOND2 .  N NUMB   0079H   A   
HOMEWORK_SECOND3 .  N NUMB   0078H   A   
HOMEWORK_STATE . .  N NUMB   0027H   A   
HOMEWORK_STATE0. .  B ADDR   0027H.7 A   
A51 MACRO ASSEMBLER  TEST3                                                                11/15/2017 18:41:37 PAGE    12

HOMEWORK_STATE7. .  B ADDR   0027H.0 A   
IE . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . .  B ADDR   0088H.3 A   
INIT_BEEP. . . . .  B ADDR   0022H.3 A   
INIT_DIGITS. . . .  B ADDR   0023H.2 A   
INIT_KEBEEP. . . .  B ADDR   0022H.0 A   
INIT_KEDIGITS. . .  B ADDR   0023H.1 A   
INIT_KEKEYS. . . .  B ADDR   0022H.1 A   
INIT_KELED . . . .  B ADDR   0021H.1 A   
INIT_KELEDS. . . .  B ADDR   0022H.6 A   
INIT_KETIMER2. . .  B ADDR   0022H.5 A   
INIT_KEYS. . . . .  B ADDR   0023H.0 A   
INIT_LED . . . . .  B ADDR   0022H.2 A   
INIT_LEDS. . . . .  B ADDR   0022H.7 A   
INIT_TIMER . . . .  B ADDR   0022H.4 A   
INT_C_OLD. . . . .  B ADDR   0021H.0 A   
IP . . . . . . . .  D ADDR   00B8H   A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
IT01CF . . . . . .  D ADDR   00E4H   A   
IT1. . . . . . . .  B ADDR   0088H.2 A   
KEYS_CB. . . . . .  C ADDR   0058H   R   SEG=TEST3
KEYS_INIT. . . . .  C ADDR   -----       EXT
KEYS_LASTCODE. . .  N NUMB   0015H   A   
KEYS_STATE0. . . .  C ADDR   0077H   R   SEG=TEST3
KEYS_STATE1. . . .  C ADDR   007CH   R   SEG=TEST3
KEYS_STATE2. . . .  C ADDR   0084H   R   SEG=TEST3
KEYS_STATE3. . . .  C ADDR   008CH   R   SEG=TEST3
KEYS_STATE4. . . .  C ADDR   0094H   R   SEG=TEST3
KINT . . . . . . .  B ADDR   0080H.1 A   
LEDS_CLEAR . . . .  C ADDR   -----       EXT
LEDS_INIT. . . . .  C ADDR   -----       EXT
LEDS_NEXT. . . . .  C ADDR   -----       EXT
LEDS_PATTERN . . .  N NUMB   0016H   A   
LEDS_START . . . .  C ADDR   -----       EXT
LEDS_STOP. . . . .  C ADDR   -----       EXT
LED_INIT . . . . .  C ADDR   -----       EXT
LED_OFF. . . . . .  C ADDR   -----       EXT
LED_ON . . . . . .  C ADDR   -----       EXT
LED_SWITCH . . . .  C ADDR   -----       EXT
MAIN . . . . . . .  C ADDR   0000H   R   SEG=TEST3
MASTER . . . . . .  B ADDR   00C0H.7 A   
MCE0 . . . . . . .  B ADDR   0098H.5 A   
MODF . . . . . . .  B ADDR   00F8H.5 A   
NORMAL . . . . . .  C ADDR   0075H   R   SEG=TEST3
NSSMD0 . . . . . .  B ADDR   00F8H.2 A   
NSSMD1 . . . . . .  B ADDR   00F8H.3 A   
OSCICL . . . . . .  D ADDR   00B3H   A   
OSCICN . . . . . .  D ADDR   00B2H   A   
OSCXCN . . . . . .  D ADDR   00B1H   A   
OV . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . .  D ADDR   0080H   A   
P0MDIN . . . . . .  D ADDR   00F1H   A   
P0MDOUT. . . . . .  D ADDR   00A4H   A   
P0SKIP . . . . . .  D ADDR   00D4H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P1MDIN . . . . . .  D ADDR   00F2H   A   
P1MDOUT. . . . . .  D ADDR   00A5H   A   
P1SKIP . . . . . .  D ADDR   00D5H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P2MDIN . . . . . .  D ADDR   00F3H   A   
P2MDOUT. . . . . .  D ADDR   00A6H   A   
P2SKIP . . . . . .  D ADDR   00D6H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
P3MDIN . . . . . .  D ADDR   00F4H   A   
A51 MACRO ASSEMBLER  TEST3                                                                11/15/2017 18:41:37 PAGE    13

P3MDOUT. . . . . .  D ADDR   00A7H   A   
PASSWORD_KEYEVENT.  C ADDR   -----       EXT
PASSWORD_MAIN. . .  C ADDR   -----       EXT
PASSWORD_PSW1. . .  N NUMB   007DH   A   
PASSWORD_PSW2. . .  N NUMB   007CH   A   
PASSWORD_STATE . .  N NUMB   007EH   A   
PCA0CN . . . . . .  D ADDR   00D8H   A   
PCA0CPH0 . . . . .  D ADDR   00FCH   A   
PCA0CPH1 . . . . .  D ADDR   00EAH   A   
PCA0CPH2 . . . . .  D ADDR   00ECH   A   
PCA0CPH3 . . . . .  D ADDR   00EEH   A   
PCA0CPH4 . . . . .  D ADDR   00FEH   A   
PCA0CPL0 . . . . .  D ADDR   00FBH   A   
PCA0CPL1 . . . . .  D ADDR   00E9H   A   
PCA0CPL2 . . . . .  D ADDR   00EBH   A   
PCA0CPL3 . . . . .  D ADDR   00EDH   A   
PCA0CPL4 . . . . .  D ADDR   00FDH   A   
PCA0CPM0 . . . . .  D ADDR   00DAH   A   
PCA0CPM1 . . . . .  D ADDR   00DBH   A   
PCA0CPM2 . . . . .  D ADDR   00DCH   A   
PCA0CPM3 . . . . .  D ADDR   00DDH   A   
PCA0CPM4 . . . . .  D ADDR   00DEH   A   
PCA0H. . . . . . .  D ADDR   00FAH   A   
PCA0L. . . . . . .  D ADDR   00F9H   A   
PCA0MD . . . . . .  D ADDR   00D9H   A   
PCON . . . . . . .  D ADDR   0087H   A   
PS0. . . . . . . .  B ADDR   00B8H.4 A   
PSCTL. . . . . . .  D ADDR   008FH   A   
PSPI0. . . . . . .  B ADDR   00B8H.6 A   
PSW. . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . .  B ADDR   00B8H.5 A   
PX0. . . . . . . .  B ADDR   00B8H.0 A   
PX1. . . . . . . .  B ADDR   00B8H.2 A   
RB80 . . . . . . .  B ADDR   0098H.2 A   
REF0CN . . . . . .  D ADDR   00D1H   A   
REN0 . . . . . . .  B ADDR   0098H.4 A   
RI0. . . . . . . .  B ADDR   0098H.0 A   
RS0. . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . .  B ADDR   00D0H.4 A   
RSTSRC . . . . . .  D ADDR   00EFH   A   
RXOVRN . . . . . .  B ADDR   00F8H.4 A   
S0MODE . . . . . .  B ADDR   0098H.7 A   
SBUF0. . . . . . .  D ADDR   0099H   A   
SCON0. . . . . . .  D ADDR   0098H   A   
SI . . . . . . . .  B ADDR   00C0H.0 A   
SMB0CF . . . . . .  D ADDR   00C1H   A   
SMB0CN . . . . . .  D ADDR   00C0H   A   
SMB0DAT. . . . . .  D ADDR   00C2H   A   
SP . . . . . . . .  D ADDR   0081H   A   
SPI0CFG. . . . . .  D ADDR   00A1H   A   
SPI0CKR. . . . . .  D ADDR   00A2H   A   
SPI0CN . . . . . .  D ADDR   00F8H   A   
SPI0DAT. . . . . .  D ADDR   00A3H   A   
SPIEN. . . . . . .  B ADDR   00F8H.0 A   
SPIF . . . . . . .  B ADDR   00F8H.7 A   
STA. . . . . . . .  B ADDR   00C0H.5 A   
STO. . . . . . . .  B ADDR   00C0H.4 A   
SWEEP. . . . . . .  C ADDR   0019H   R   SEG=TEST3
SWITCH1. . . . . .  C ADDR   0061H   R   SEG=TEST3
SWITCH2. . . . . .  C ADDR   006BH   R   SEG=TEST3
T2SPLIT. . . . . .  B ADDR   00C8H.3 A   
T2XCLK . . . . . .  B ADDR   00C8H.0 A   
TB80 . . . . . . .  B ADDR   0098H.3 A   
TCON . . . . . . .  D ADDR   0088H   A   
A51 MACRO ASSEMBLER  TEST3                                                                11/15/2017 18:41:37 PAGE    14

TEST3. . . . . . .  C SEG    0097H       REL=UNIT
TEST3_CHANGESTATE.  C ADDR   0035H   R   SEG=TEST3
TEST3_MAINSTATE. .  N NUMB   007FH   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . .  B ADDR   0088H.7 A   
TF2H . . . . . . .  B ADDR   00C8H.7 A   
TF2L . . . . . . .  B ADDR   00C8H.6 A   
TF2LEN . . . . . .  B ADDR   00C8H.5 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TI0. . . . . . . .  B ADDR   0098H.1 A   
TIMER_CHECKCTRL. .  C ADDR   -----       EXT
TIMER_CNT1 . . . .  N NUMB   0018H   A   
TIMER_CNT8 . . . .  N NUMB   001FH   A   
TIMER_CTRL . . . .  N NUMB   0017H   A   
TIMER_INIT . . . .  C ADDR   -----       EXT
TIMER_START. . . .  C ADDR   -----       EXT
TIMER_STOP . . . .  C ADDR   -----       EXT
TL0. . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TMR2CN . . . . . .  D ADDR   00C8H   A   
TMR2H. . . . . . .  D ADDR   00CDH   A   
TMR2L. . . . . . .  D ADDR   00CCH   A   
TMR2RLH. . . . . .  D ADDR   00CBH   A   
TMR2RLL. . . . . .  D ADDR   00CAH   A   
TMR3CN . . . . . .  D ADDR   0091H   A   
TMR3H. . . . . . .  D ADDR   0095H   A   
TMR3L. . . . . . .  D ADDR   0094H   A   
TMR3RLH. . . . . .  D ADDR   0093H   A   
TMR3RLL. . . . . .  D ADDR   0092H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . .  B ADDR   00C8H.2 A   
TXBMT. . . . . . .  B ADDR   00F8H.1 A   
TXMODE . . . . . .  B ADDR   00C0H.6 A   
VDM0CN . . . . . .  D ADDR   00FFH   A   
WCOL . . . . . . .  B ADDR   00F8H.6 A   
XBR0 . . . . . . .  D ADDR   00E1H   A   
XBR1 . . . . . . .  D ADDR   00E2H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
