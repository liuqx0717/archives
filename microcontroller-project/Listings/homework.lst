A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE     1


MACRO ASSEMBLER A51 V8.2.5.0
OBJECT MODULE PLACED IN .\Objects\homework.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE asm\homework.asm NOMOD51 SET(SMALL) DEBUG PRINT(.\Listings\homework.lst
                      ) OBJECT(.\Objects\homework.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ;$include (C8051F310.INC)

                +1     2     ;---------------------------------------------------------------------------

                +1     3     ;  

                +1     4     ;  

                +1     5     ;

                +1     6     ;

                +1     7     ;  FILE NAME   : C8051F310.INC

                +1     8     ;  TARGET MCUs : C8051F310, 'F311

                +1     9     ;  DESCRIPTION : Register/bit definitions for the C8051F31x product family.

                +1    10     ;

                +1    11     ;  REVISION 1.3

                +1    12     ;     -- added ESPI0 and PSPI0

                +1    13     ;  REVISION 1.2

                +1    14     ;     -- added VDM0CN (0xff)   

                +1    15     ;

                +1    16     ;  REVISION 1.1

                +1    17     ;     -- changed TARGET MCUs to 'F310, 'F311

                +1    18     ;     -- SPICFG --> SPI0CFG

                +1    19     ;     -- SPICKR --> SPI0CKR

                +1    20     ;     -- SPIDAT --> SPI0DAT

                +1    21     ;     -- removed CLKMUL (0xb9)

                +1    22     ;     -- AMUX0N --> AMX0N

                +1    23     ;     -- AMUX0P --> AMX0P

                +1    24     ;

                +1    25     ;---------------------------------------------------------------------------

                +1    26     

                +1    27     ; BYTE Registers 

  0080          +1    28     P0       DATA  080H     ; PORT 0                                                   

  0081          +1    29     SP       DATA  081H     ; STACK POINTER                                            

  0082          +1    30     DPL      DATA  082H     ; DATA POINTER - LOW BYTE                                  

  0083          +1    31     DPH      DATA  083H     ; DATA POINTER - HIGH BYTE                                 

  0087          +1    32     PCON     DATA  087H     ; POWER CONTROL                                            

  0088          +1    33     TCON     DATA  088H     ; TIMER CONTROL                                            

  0089          +1    34     TMOD     DATA  089H     ; TIMER MODE                                               

  008A          +1    35     TL0      DATA  08AH     ; TIMER 0 - LOW BYTE                                       

  008B          +1    36     TL1      DATA  08BH     ; TIMER 1 - LOW BYTE                                       

  008C          +1    37     TH0      DATA  08CH     ; TIMER 0 - HIGH BYTE                                      

  008D          +1    38     TH1      DATA  08DH     ; TIMER 1 - HIGH BYTE                                      

  008E          +1    39     CKCON    DATA  08EH     ; CLOCK CONTROL                                            

  008F          +1    40     PSCTL    DATA  08FH     ; PROGRAM STORE R/W CONTROL                                

  0090          +1    41     P1       DATA  090H     ; PORT 1                                                   

  0091          +1    42     TMR3CN   DATA  091H     ; TIMER 3 CONTROL                                          

  0092          +1    43     TMR3RLL  DATA  092H     ; TIMER 3 RELOAD LOW                                       

  0093          +1    44     TMR3RLH  DATA  093H     ; TIMER 3 RELOAD HIGH                                      

  0094          +1    45     TMR3L    DATA  094H     ; TIMER 3 LOW BYTE                                         

  0095          +1    46     TMR3H    DATA  095H     ; TIMER 3 HIGH BYTE                                        

  0098          +1    47     SCON0    DATA  098H     ; SERIAL PORT 0 CONTROL                                    

  0099          +1    48     SBUF0    DATA  099H     ; SERIAL PORT 0 BUFFER                                     

  009A          +1    49     CPT1CN   DATA  09AH     ; COMPARATOR 1 CONTROL                                     

  009B          +1    50     CPT0CN   DATA  09BH     ; COMPARATOR 0 CONTROL                                     

  009C          +1    51     CPT1MD   DATA  09CH     ; COMPARATOR 1 MODE                                        

  009D          +1    52     CPT0MD   DATA  09DH     ; COMPARATOR 0 MODE                                        

  009E          +1    53     CPT1MX   DATA  09EH     ; COMPARATOR 1 MUX                                         

  009F          +1    54     CPT0MX   DATA  09FH     ; COMPARATOR 0 MUX                                         

  00A0          +1    55     P2       DATA  0A0H     ; PORT 2                                                   

  00A1          +1    56     SPI0CFG  DATA  0A1H     ; SPI0 CONFIGURATION                                        

  00A2          +1    57     SPI0CKR  DATA  0A2H     ; SPI0 CLOCK CONFIGURATION                                  

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE     2

  00A3          +1    58     SPI0DAT  DATA  0A3H     ; SPI0 DATA                                         

  00A4          +1    59     P0MDOUT  DATA  0A4H     ; PORT 0 OUTPUT MODE                                       

  00A5          +1    60     P1MDOUT  DATA  0A5H     ; PORT 1 OUTPUT MODE                                       

  00A6          +1    61     P2MDOUT  DATA  0A6H     ; PORT 2 OUTPUT MODE                                       

  00A7          +1    62     P3MDOUT  DATA  0A7H     ; PORT 3 OUTPUT MODE                                       

  00A8          +1    63     IE       DATA  0A8H     ; INTERRUPT ENABLE                                         

  00A9          +1    64     CLKSEL   DATA  0A9H     ; CLOCK SOURCE SELECT                                      

  00AA          +1    65     EMI0CN   DATA  0AAH     ; EXTERNAL MEMORY INTERFACE CONTROL                        

  00B0          +1    66     P3       DATA  0B0H     ; PORT 3                                                   

  00B1          +1    67     OSCXCN   DATA  0B1H     ; EXTERNAL OSCILLATOR CONTROL                              

  00B2          +1    68     OSCICN   DATA  0B2H     ; INTERNAL OSCILLATOR CONTROL                              

  00B3          +1    69     OSCICL   DATA  0B3H     ; INTERNAL OSCILLATOR CALIBRATION                          

  00B5          +1    70     FLACL    DATA  0B5H     ; FLASH ACCESS LIMIT

  00B6          +1    71     FLSCL    DATA  0B6H     ; FLASH SCALE                                              

  00B7          +1    72     FLKEY    DATA  0B7H     ; FLASH LOCK & KEY                                         

  00B8          +1    73     IP       DATA  0B8H     ; INTERRUPT PRIORITY   

  00BA          +1    74     AMX0N    DATA  0BAH     ; ADC0 MUX NEGATIVE CHANNEL SELECTION                      

  00BB          +1    75     AMX0P    DATA  0BBH     ; ADC0 MUX POSITIVE CHANNEL SELECTION                      

  00BC          +1    76     ADC0CF   DATA  0BCH     ; ADC0 CONFIGURATION                                       

  00BD          +1    77     ADC0L    DATA  0BDH     ; ADC0 DATA LOW                                            

  00BE          +1    78     ADC0H    DATA  0BEH     ; ADC0 DATA HIGH                                           

  00C0          +1    79     SMB0CN   DATA  0C0H     ; SMBUS CONTROL                                            

  00C1          +1    80     SMB0CF   DATA  0C1H     ; SMBUS CONFIGURATION                                      

  00C2          +1    81     SMB0DAT  DATA  0C2H     ; SMBUS DATA                                             

  00C3          +1    82     ADC0GTL  DATA  0C3H     ; ADC0 GREATER-THAN LOW                                    

  00C4          +1    83     ADC0GTH  DATA  0C4H     ; ADC0 GREATER-THAN HIGH                                   

  00C5          +1    84     ADC0LTL  DATA  0C5H     ; ADC0 LESS-THAN LOW                                       

  00C6          +1    85     ADC0LTH  DATA  0C6H     ; ADC0 LESS-THAN HIGH                                      

  00C8          +1    86     TMR2CN   DATA  0C8H     ; TIMER 2 CONTROL                                                

  00CA          +1    87     TMR2RLL  DATA  0CAH     ; TIMER 2 RELOAD LOW                                       

  00CB          +1    88     TMR2RLH  DATA  0CBH     ; TIMER 2 RELOAD HIGH                                      

  00CC          +1    89     TMR2L    DATA  0CCH     ; TIMER 2 LOW BYTE                                         

  00CD          +1    90     TMR2H    DATA  0CDH     ; TIMER 2 HIGH BYTE                                        

  00D0          +1    91     PSW      DATA  0D0H     ; PROGRAM STATUS WORD                                      

  00D1          +1    92     REF0CN   DATA  0D1H     ; VOLTAGE REFERENCE 0 CONTROL                              

  00D4          +1    93     P0SKIP   DATA  0D4H     ; PORT 0 CROSSBAR SKIP                                     

  00D5          +1    94     P1SKIP   DATA  0D5H     ; PORT 1 CROSSBAR SKIP                                     

  00D6          +1    95     P2SKIP   DATA  0D6H     ; PORT 2 CROSSBAR SKIP     

  00D8          +1    96     PCA0CN   DATA  0D8H     ; PCA0 CONTROL                                             

  00D9          +1    97     PCA0MD   DATA  0D9H     ; PCA0 MODE                                                

  00DA          +1    98     PCA0CPM0 DATA  0DAH     ; PCA0 MODULE 0 MODE                                       

  00DB          +1    99     PCA0CPM1 DATA  0DBH     ; PCA0 MODULE 1 MODE                                       

  00DC          +1   100     PCA0CPM2 DATA  0DCH     ; PCA0 MODULE 2 MODE     

  00DD          +1   101     PCA0CPM3 DATA  0DDH     ; PCA0 MODULE 3 MODE                                       

  00DE          +1   102     PCA0CPM4 DATA  0DEH     ; PCA0 MODULE 4 MODE                                    

  00E0          +1   103     ACC      DATA  0E0H     ; ACCUMULATOR                                              

  00E1          +1   104     XBR0     DATA  0E1H     ; DIGITAL CROSSBAR CONFIGURATION REGISTER 0                

  00E2          +1   105     XBR1     DATA  0E2H     ; DIGITAL CROSSBAR CONFIGURATION REGISTER 1                

  00E4          +1   106     IT01CF   DATA  0E4H     ; INT0/INT1 CONFIGURATION                                  

  00E6          +1   107     EIE1     DATA  0E6H     ; EXTERNAL INTERRUPT ENABLE 1                     

  00E8          +1   108     ADC0CN   DATA  0E8H     ; ADC 0 CONTROL                                            

  00E9          +1   109     PCA0CPL1 DATA  0E9H     ; PCA0 MODULE 1 CAPTURE/COMPARE REGISTER LOW BYTE          

  00EA          +1   110     PCA0CPH1 DATA  0EAH     ; PCA0 MODULE 1 CAPTURE/COMPARE REGISTER HIGH BYTE         

  00EB          +1   111     PCA0CPL2 DATA  0EBH     ; PCA0 MODULE 2 CAPTURE/COMPARE REGISTER LOW BYTE          

  00EC          +1   112     PCA0CPH2 DATA  0ECH     ; PCA0 MODULE 2 CAPTURE/COMPARE REGISTER HIGH BYTE         

  00ED          +1   113     PCA0CPL3 DATA  0EDH     ; PCA0 MODULE 3 CAPTURE/COMPARE REGISTER LOW BYTE          

  00EE          +1   114     PCA0CPH3 DATA  0EEH     ; PCA0 MODULE 3 CAPTURE/COMPARE REGISTER HIGH BYTE         

  00EF          +1   115     RSTSRC   DATA  0EFH     ; RESET SOURCE                                             

  00F0          +1   116     B        DATA  0F0H     ; B REGISTER                                               

  00F1          +1   117     P0MDIN   DATA  0F1H     ; PORT 0 INPUT MODE REGISTER                               

  00F2          +1   118     P1MDIN   DATA  0F2H     ; PORT 1 INPUT MODE REGISTER                               

  00F3          +1   119     P2MDIN   DATA  0F3H     ; PORT 2 INPUT MODE REGISTER                               

  00F4          +1   120     P3MDIN   DATA  0F4H     ; PORT 3 INPUT MODE REGISTER                               

  00F6          +1   121     EIP1     DATA  0F6H     ; EXTERNAL INTERRUPT PRIORITY 1

  00F8          +1   122     SPI0CN   DATA  0F8H     ; SPI0 CONTROL                                             

  00F9          +1   123     PCA0L    DATA  0F9H     ; PCA0 COUNTER REGISTER LOW BYTE                           

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE     3

  00FA          +1   124     PCA0H    DATA  0FAH     ; PCA0 COUNTER REGISTER HIGH BYTE                          

  00FB          +1   125     PCA0CPL0 DATA  0FBH     ; PCA MODULE 0 CAPTURE/COMPARE REGISTER LOW BYTE           

  00FC          +1   126     PCA0CPH0 DATA  0FCH     ; PCA MODULE 0 CAPTURE/COMPARE REGISTER HIGH BYTE          

  00FD          +1   127     PCA0CPL4 DATA  0FDH     ; PCA MODULE 4 CAPTURE/COMPARE REGISTER LOW BYTE           

  00FE          +1   128     PCA0CPH4 DATA  0FEH     ; PCA MODULE 4 CAPTURE/COMPARE REGISTER HIGH BYTE      

  00FF          +1   129     VDM0CN    DATA  0FFH ; VDD MONITOR CONTROL

                +1   130     

                +1   131     ;------------------------------------------------------------------------------

                +1   132     ;BIT DEFINITIONS

                +1   133     ;

                +1   134     ; TCON 88H

  0088          +1   135     IT0      BIT   TCON.0   ; EXT. INTERRUPT 0 TYPE

  0089          +1   136     IE0      BIT   TCON.1   ; EXT. INTERRUPT 0 EDGE FLAG

  008A          +1   137     IT1      BIT   TCON.2   ; EXT. INTERRUPT 1 TYPE

  008B          +1   138     IE1      BIT   TCON.3   ; EXT. INTERRUPT 1 EDGE FLAG

  008C          +1   139     TR0      BIT   TCON.4   ; TIMER 0 ON/OFF CONTROL

  008D          +1   140     TF0      BIT   TCON.5   ; TIMER 0 OVERFLOW FLAG

  008E          +1   141     TR1      BIT   TCON.6   ; TIMER 1 ON/OFF CONTROL

  008F          +1   142     TF1      BIT   TCON.7   ; TIMER 1 OVERFLOW FLAG

                +1   143     

                +1   144     ; SCON0  0x98 

  0098          +1   145     RI0      BIT   SCON0.0  ; RECEIVE INTERRUPT FLAG                                

  0099          +1   146     TI0      BIT   SCON0.1  ; TRANSMIT INTERRUPT FLAG                               

  009A          +1   147     RB80     BIT   SCON0.2  ; RECEIVE BIT 8                                         

  009B          +1   148     TB80     BIT   SCON0.3  ; TRANSMIT BIT 8                                        

  009C          +1   149     REN0     BIT   SCON0.4  ; RECEIVE ENABLE                                        

  009D          +1   150     MCE0     BIT   SCON0.5  ; MULTIPROCESSOR COMMUNICATION ENABLE                   

  009F          +1   151     S0MODE   BIT   SCON0.7  ; SERIAL MODE CONTROL BIT 0                             

                +1   152     

                +1   153     ; IE  0xA8 

  00A8          +1   154     EX0      BIT   IE.0     ; EXTERNAL INTERRUPT 0 ENABLE                           

  00A9          +1   155     ET0      BIT   IE.1     ; TIMER 0 INTERRUPT ENABLE                              

  00AA          +1   156     EX1      BIT   IE.2     ; EXTERNAL INTERRUPT 1 ENABLE                           

  00AB          +1   157     ET1      BIT   IE.3     ; TIMER 1 INTERRUPT ENABLE                              

  00AC          +1   158     ES0      BIT   IE.4     ; UART0 INTERRUPT ENABLE                                

  00AD          +1   159     ET2      BIT   IE.5     ; TIMER 2 INTERRUPT ENABLE                              

  00AE          +1   160     ESPI0    BIT   IE.6     ; SPI0 INTERRUPT ENABLE

  00AF          +1   161     EA       BIT   IE.7     ; GLOBAL INTERRUPT ENABLE                               

                +1   162     

                +1   163     ; IP  0xB8 

  00B8          +1   164     PX0      BIT   IP.0     ; EXTERNAL INTERRUPT 0 PRIORITY                         

  00B9          +1   165     PT0      BIT   IP.1     ; TIMER 0 PRIORITY                                      

  00BA          +1   166     PX1      BIT   IP.2     ; EXTERNAL INTERRUPT 1 PRIORITY                         

  00BB          +1   167     PT1      BIT   IP.3     ; TIMER 1 PRIORITY                                      

  00BC          +1   168     PS0      BIT   IP.4     ; UART0 PRIORITY                                        

  00BD          +1   169     PT2      BIT   IP.5     ; TIMER 2 PRIORITY                                      

  00BE          +1   170     PSPI0    BIT   IP.6     ; SPI0 INTERRUPT PRIORITY

                +1   171     

                +1   172     ; SMB0CN 0xC0 

  00C0          +1   173     SI       BIT   SMB0CN.0 ; SMBUS0 INTERRUPT FLAG                                 

  00C1          +1   174     ACK      BIT   SMB0CN.1 ; ACKNOWLEDGE FLAG                                      

  00C2          +1   175     ARBLOST  BIT   SMB0CN.2 ; ARBITRATION LOST INDICATOR                            

  00C3          +1   176     ACKRQ    BIT   SMB0CN.3 ; ACKNOWLEDGE REQUEST                                   

  00C4          +1   177     STO      BIT   SMB0CN.4 ; STOP FLAG                                             

  00C5          +1   178     STA      BIT   SMB0CN.5 ; START FLAG                                            

  00C6          +1   179     TXMODE   BIT   SMB0CN.6 ; TRANSMIT MODE INDICATOR                               

  00C7          +1   180     MASTER   BIT   SMB0CN.7 ; MASTER/SLAVE INDICATOR                                

                +1   181     

                +1   182     ; TMR2CN 0xC8 

  00C8          +1   183     T2XCLK   BIT   TMR2CN.0 ; TIMER 2 EXTERNAL CLOCK SELECT                         

  00CA          +1   184     TR2      BIT   TMR2CN.2 ; TIMER 2 ON/OFF CONTROL                                

  00CB          +1   185     T2SPLIT  BIT   TMR2CN.3 ; TIMER 2 SPLIT MODE ENABLE                             

  00CD          +1   186     TF2LEN   BIT   TMR2CN.5 ; TIMER 2 LOW BYTE INTERRUPT ENABLE                     

  00CE          +1   187     TF2L     BIT   TMR2CN.6 ; TIMER 2 LOW BYTE OVERFLOW FLAG                        

  00CF          +1   188     TF2H     BIT   TMR2CN.7 ; TIMER 2 HIGH BYTE OVERFLOW FLAG                       

                +1   189     

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE     4

                +1   190     ; PSW 0xD0 

  00D0          +1   191     P        BIT   PSW.0    ; ACCUMULATOR PARITY FLAG                               

  00D1          +1   192     F1       BIT   PSW.1    ; USER FLAG 1                                           

  00D2          +1   193     OV       BIT   PSW.2    ; OVERFLOW FLAG                                         

  00D3          +1   194     RS0      BIT   PSW.3    ; REGISTER BANK SELECT 0                                

  00D4          +1   195     RS1      BIT   PSW.4    ; REGISTER BANK SELECT 1                                

  00D5          +1   196     F0       BIT   PSW.5    ; USER FLAG 0                                           

  00D6          +1   197     AC       BIT   PSW.6    ; AUXILIARY CARRY FLAG                                  

  00D7          +1   198     CY       BIT   PSW.7    ; CARRY FLAG                                            

                +1   199     

                +1   200     ; PCA0CN 0xD8H 

  00D8          +1   201     CCF0     BIT   PCA0CN.0 ; PCA0 MODULE 0 CAPTURE/COMPARE FLAG                    

  00D9          +1   202     CCF1     BIT   PCA0CN.1 ; PCA0 MODULE 1 CAPTURE/COMPARE FLAG                    

  00DA          +1   203     CCF2     BIT   PCA0CN.2 ; PCA0 MODULE 2 CAPTURE/COMPARE FLAG                    

  00DB          +1   204     CCF3     BIT   PCA0CN.3 ; PCA0 MODULE 3 CAPTURE/COMPARE FLAG                    

  00DC          +1   205     CCF4     BIT   PCA0CN.4 ; PCA0 MODULE 4 CAPTURE/COMPARE FLAG                    

  00DE          +1   206     CR       BIT   PCA0CN.6 ; PCA0 COUNTER RUN CONTROL                              

  00DF          +1   207     CF       BIT   PCA0CN.7 ; PCA0 COUNTER OVERFLOW FLAG                            

                +1   208     

                +1   209     ; ADC0CN 0xE8H 

  00E8          +1   210     AD0CM0   BIT   ADC0CN.0 ; ADC0 CONVERSION MODE SELECT 0                         

  00E9          +1   211     AD0CM1   BIT   ADC0CN.1 ; ADC0 CONVERSION MODE SELECT 1                         

  00EA          +1   212     AD0CM2   BIT   ADC0CN.2 ; ADC0 CONVERSION MODE SELECT 2                         

  00EB          +1   213     AD0WINT  BIT   ADC0CN.3 ; ADC0 WINDOW COMPARE INTERRUPT FLAG                    

  00EC          +1   214     AD0BUSY  BIT   ADC0CN.4 ; ADC0 BUSY FLAG                                        

  00ED          +1   215     AD0INT   BIT   ADC0CN.5 ; ADC0 CONVERISION COMPLETE INTERRUPT FLAG              

  00EE          +1   216     AD0TM    BIT   ADC0CN.6 ; ADC0 TRACK MODE                                       

  00EF          +1   217     AD0EN    BIT   ADC0CN.7 ; ADC0 ENABLE                                           

                +1   218     

                +1   219     ; SPI0CN 0xF8H 

  00FF          +1   220     SPIF     BIT   SPI0CN.7 ; SPI 0 INTERRUPT FLAG                                  

  00FE          +1   221     WCOL     BIT   SPI0CN.6 ; SPI 0 WRITE COLLISION FLAG                            

  00FD          +1   222     MODF     BIT   SPI0CN.5 ; SPI 0 MODE FAULT FLAG                                 

  00FC          +1   223     RXOVRN   BIT   SPI0CN.4 ; SPI 0 RX OVERRUN FLAG                                 

  00FB          +1   224     NSSMD1   BIT   SPI0CN.3 ; SPI 0 SLAVE SELECT MODE 1                             

  00FA          +1   225     NSSMD0   BIT   SPI0CN.2 ; SPI 0 SLAVE SELECT MODE 0                             

  00F9          +1   226     TXBMT    BIT   SPI0CN.1 ; SPI 0 TRANSMIT BUFFER EMPTY                           

  00F8          +1   227     SPIEN    BIT   SPI0CN.0 ; SPI 0 SPI ENABLE                                      

                     228     

                     229     ;$include (GlobalVars.inc)

                +1   230     ; 08H~1FH:  local variables(arguments) & global variables

                +1   231     ; 20H~27H:  bits (00H~3FH)

                +1   232     ; 30H~7FH:  stack & global variables

                +1   233     

                +1   234     ; A,B,C:      volatile

                +1   235     

                +1   236     

  0018          +1   237     Timer_CNT1                      EQU             18H

  001F          +1   238     Timer_CNT8                      EQU             1FH

                +1   239             

                +1   240     

  0017          +1   241     Timer_CTRL                      EQU             17H      ;H |1|2|3|4|5|6|7|8| L

                +1   242             

  0016          +1   243     LEDs_Pattern            EQU             16H

                +1   244             

  0015          +1   245     Keys_LastCode           EQU             15H

                +1   246             

  0014          +1   247     Beep_Count                      EQU             14H

  0013          +1   248     Beep_Total                      EQU             13H

  0012          +1   249     Beep_State                      EQU             12H

                +1   250             

  0011          +1   251     g_Digit1                        EQU             11H       ;Digit1~2

  0010          +1   252     g_Digit2                        EQU             10H       ;Digit3~4

                +1   253     

  007F          +1   254     TEST3_MainState         EQU             7FH

                +1   255     

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE     5

  007E          +1   256     PASSWORD_State          EQU             7EH

  007D          +1   257     PASSWORD_PSW1           EQU             7DH

  007C          +1   258     PASSWORD_PSW2           EQU             7CH

  007B          +1   259     HOMEWORK_Count          EQU             7BH

  007A          +1   260     HOMEWORK_Second1        EQU             7AH

  0079          +1   261     HOMEWORK_Second2        EQU             79H

  0078          +1   262     HOMEWORK_Second3        EQU             78H

  0077          +1   263     HOMEWORK_Second         EQU             77H

  0076          +1   264     CALCULATE_NUM           EQU             76H

  0075          +1   265     CALCULATE_1                     EQU             75H

  0074          +1   266     CALCULATE_2                     EQU             74H

                +1   267     

                +1   268     

                +1   269     

  0020          +1   270     g_LEDs                          EQU             20H

  0000          +1   271     g_LED1                          BIT             00H

  0001          +1   272     g_LED2                          BIT             01H

  0002          +1   273     g_LED3                          BIT             02H

  0003          +1   274     g_LED4                          BIT             03H

  0004          +1   275     g_LED5                          BIT             04H

  0005          +1   276     g_LED6                          BIT             05H

  0006          +1   277     g_LED7                          BIT             06H

  0007          +1   278     g_LED8                          BIT             07H

                +1   279             

  0008          +1   280     INT_C_old                       BIT             08H

                +1   281             

  0009          +1   282     INIT_KeLED                      BIT             09H

  0010          +1   283     INIT_KeBeep                     BIT             10H

  0011          +1   284     INIT_KeKeys                     BIT             11H

  0012          +1   285     INIT_LED                        BIT             12H

  0013          +1   286     INIT_Beep                       BIT             13H

  0014          +1   287     INIT_Timer                      BIT             14H

  0015          +1   288     INIT_KeTimer2           BIT             15H

  0016          +1   289     INIT_KeLEDs                     BIT             16H

  0017          +1   290     INIT_LEDs                       BIT             17H

  0018          +1   291     INIT_Keys                       BIT             18H

  0019          +1   292     INIT_KeDigits           BIT             19H

  001A          +1   293     INIT_Digits                     BIT             1AH

                +1   294     ;INIT_

                +1   295     ;INIT_

                +1   296     ;INIT_

                +1   297     ;INIT_

                +1   298     

  0024          +1   299     Digits_State            EQU             24H    

  0020          +1   300     Digits_State7           BIT             20H

  0027          +1   301     Digits_State0           BIT             27H

                +1   302             

  0025          +1   303     g_DigitState            EQU             25H       ;H |S41|S40|S31|S30|S21|S20|S11|S10|

  0028          +1   304     g_DigitState7           BIT             28H           ;Sn1 Sn0:

  002F          +1   305     g_DigitState0           BIT             2FH               ;    00normal  01dp  10 light  11
                              close

                +1   306             

  0026          +1   307     Digits_LastState        EQU             26H

  0030          +1   308     Digits_LastState0       BIT             30H

  0037          +1   309     Digits_LastState7       BIT             37H

                +1   310             

  0027          +1   311     HOMEWORK_State          EQU             27H

  0038          +1   312     HOMEWORK_State7         BIT             38H

  003F          +1   313     HOMEWORK_State0         BIT             3FH

  0040          +1   314     CAL_STATE1                      BIT             40H

  0041          +1   315     CAL_STATE2                      BIT             41H

  0042          +1   316     CAL_STATE3                      BIT             42H

                +1   317     

                     318     

                     319     ;$include (LED.inc)

                +1   320     EXTRN   CODE    (LED_init)

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE     6

                +1   321     EXTRN   CODE    (LED_on)

                +1   322     EXTRN   CODE    (LED_off)

                +1   323     EXTRN   CODE    (LED_switch)

                     324     

                     325     ;$include (Beep.inc)

                +1   326     EXTRN   CODE    (Beep_Init)

                +1   327     EXTRN   CODE    (Beep_On)

                +1   328     EXTRN   CODE    (Beep_Off)

                +1   329     EXTRN   CODE    (Beep_Switch)

                +1   330             

                +1   331     ; beep for 0.1s, asynchronous

                +1   332     EXTRN   CODE    (Beep_1Async)

                +1   333             

                +1   334             

                +1   335     ; beep for 0.8s, asynchronous

                +1   336     EXTRN   CODE    (Beep_2Async)

                +1   337             

                +1   338             

                +1   339     ; 2 beeps, each for 0.2s, with an interval of 0.1s, asynchronous

                +1   340     EXTRN   CODE    (Beep_3Async)

                +1   341             

                +1   342             

                +1   343             

                     344     

                     345     ;$include (Timer.inc)

                +1   346     ;Timer_0 will start immediately

                +1   347     ;Timer_n(1~8) will start only after you call the Timer_Start function

                +1   348     ;Timer_0 cannot be stopped by Timer_Stop function

                +1   349     EXTRN   CODE    (Timer_Init)

                +1   350             

                +1   351             

                +1   352             

                +1   353     ;arguments:

                +1   354     ;    08H  n

                +1   355     ;return:

                +1   356     ;    returns 0 if Timer_n is not running

                +1   357     EXTRN   CODE    (Timer_CheckCTRL)

                +1   358             

                +1   359             

                +1   360             

                +1   361     ;arguments:

                +1   362     ;    08H  n

                +1   363     EXTRN   CODE    (Timer_Start)

                +1   364             

                +1   365             

                +1   366             

                +1   367     ;arguments:

                +1   368     ;    08H  n

                +1   369     EXTRN   CODE    (Timer_Stop)

                     370     

                     371     ;$include (LEDs.inc)

                +1   372     EXTRN   CODE    (LEDs_Init)

                +1   373     EXTRN   CODE    (LEDs_Next)

                +1   374     EXTRN   CODE    (LEDs_Clear)

                +1   375     EXTRN   CODE    (LEDs_Start)

                +1   376     EXTRN   CODE    (LEDs_Stop)

                +1   377             

                     378     

                     379     ;$include (Keys.inc)

                +1   380     ;CallBack:

                +1   381     ;    Keys_CB

                +1   382     ;        arguments:

                +1   383     ;            08H  key code

                +1   384     

                +1   385     EXTRN   CODE    (Keys_Init)

                +1   386             

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE     7

                +1   387             

                     388     

                     389     ;$include (Digits.inc)

                +1   390     ;g_DigitState:  

                +1   391     ;    H |S41|S40|S31|S30|S21|S20|S11|S10|

                +1   392     ;    Sn1 Sn0:

                +1   393     ;        00normal  01dp  10 light  11 close

                +1   394     

                +1   395     ;g_Digit1:    Digit1~2

                +1   396     ;g_Digit2:    Digit3~4

                +1   397     

                +1   398     EXTRN   CODE    (Digits_Init)

                +1   399     EXTRN   CODE    (Digits_Sweep)

                +1   400     EXTRN   CODE    (Digits_StartBlink4)

                +1   401     EXTRN   CODE    (Digits_StartBlink3)

                +1   402     EXTRN   CODE    (Digits_StartBlink2)

                +1   403     EXTRN   CODE    (Digits_StartBlink1)

                +1   404     EXTRN   CODE    (Digits_StopBlink4)

                +1   405     EXTRN   CODE    (Digits_StopBlink3)

                +1   406     EXTRN   CODE    (Digits_StopBlink2)

                +1   407     EXTRN   CODE    (Digits_StopBlink1)

                     408     

                     409     ;$include (test3.inc)

                +1   410     EXTRN   CODE    (TEST3_ChangeState)

                +1   411             

                +1   412             

                     413     

                     414             

                     415             

                     416     

                     417     

                     418     PUBLIC  Homework_Main

                     419     PUBLIC  Homework_KeyEvent

                     420             

                     421     PUBLIC  Timer_4

                     422     PUBLIC  Timer_5

                     423     PUBLIC  Timer_6

                     424     

                     425     

                     426     HOMEWORK        SEGMENT         CODE

----                 427                             RSEG            HOMEWORK

                     428     

                     429     

  000A               430     HOMEWORK_Count1         EQU             10                      ; 5Hz    reload value

  0002               431     HOMEWORK_Count2         EQU             2                       ; 1Hz    reload value

  0001               432     HOMEWORK_Count3         EQU             1                       ; 0.5Hz  reload value

                     433             

                     434     

                     435     

                     436     ;NUM1~3  Select

                     437     ;F1      Start/Stop

                     438     ;F2      Set

                     439     

                     440     ;HOMEWORK_State

                     441     ;    3~0 state

                     442     ;        0000 stop

                     443     ;        0001 play

                     444     ;        0010 pause

                     445     ;        0011 setting

                     446     ;    5~4 num

                     447     

                     448     ;HOMEWORK_Count

                     449     ;HOMEWORK_Second1~3

                     450     

                     451     

0000                 452     Homework_Main:

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE     8

0000 C008            453                     PUSH    08H

                     454                     

0002 757A20          455                     MOV             HOMEWORK_Second1,#20H

0005 757920          456                     MOV             HOMEWORK_Second2,#20H

0008 757820          457                     MOV             HOMEWORK_Second3,#20H

                     458     

000B 1100     F      459                     ACALL   Select1

                     460     

000D D008            461                     POP             08H

000F 22              462                     RET

                     463                     

                     464                     

                     465                     

                     466                     

                     467                     

0010                 468     Select1:

0010 1100     F      469                     ACALL   StopTimer1

0012 1100     F      470                     ACALL   StopTimer2

0014 1100     F      471                     ACALL   StopTimer3

0016 752700          472                     MOV             HOMEWORK_State,#00H

0019 C23D            473                     CLR             HOMEWORK_State.5

001B C23C            474                     CLR             HOMEWORK_State.4

001D 757B0A          475                     MOV             HOMEWORK_Count,#HOMEWORK_Count1

0020 857A77          476                     MOV             HOMEWORK_Second,HOMEWORK_Second1

0023 751105          477                     MOV             g_Digit1,#05H

0026 75101A          478                     MOV             g_Digit2,#1AH

0029 752500          479                     MOV             g_DigitState,#00H

002C 120000   F      480                     LCALL   Digits_StopBlink1

002F 120000   F      481                     LCALL   Digits_StopBlink2

0032 120000   F      482                     LCALL   Digits_StopBlink3

0035 120000   F      483                     LCALL   Digits_StopBlink4

0038 120000   F      484                     LCALL   LED_off

003B 120000   F      485                     LCALL   LEDs_Clear

                     486     

003E 22              487                     RET

                     488                     

003F                 489     Select2:

003F 1100     F      490                     ACALL   StopTimer1

0041 1100     F      491                     ACALL   StopTimer2

0043 1100     F      492                     ACALL   StopTimer3

0045 752700          493                     MOV             HOMEWORK_State,#00H

0048 C23D            494                     CLR             HOMEWORK_State.5

004A D23C            495                     SETB    HOMEWORK_State.4

004C 757B02          496                     MOV             HOMEWORK_Count,#HOMEWORK_Count2

004F 857977          497                     MOV             HOMEWORK_Second,HOMEWORK_Second2

0052 751101          498                     MOV             g_Digit1,#01H

0055 75102A          499                     MOV             g_Digit2,#2AH

0058 752500          500                     MOV             g_DigitState,#00H

005B 120000   F      501                     LCALL   Digits_StopBlink1

005E 120000   F      502                     LCALL   Digits_StopBlink2

0061 120000   F      503                     LCALL   Digits_StopBlink3

0064 120000   F      504                     LCALL   Digits_StopBlink4

0067 120000   F      505                     LCALL   LED_off

006A 120000   F      506                     LCALL   LEDs_Clear

                     507     

006D 22              508                     RET

                     509                     

006E                 510     Select3:

006E 1100     F      511                     ACALL   StopTimer1

0070 1100     F      512                     ACALL   StopTimer2

0072 1100     F      513                     ACALL   StopTimer3

0074 752700          514                     MOV             HOMEWORK_State,#00H

0077 D23D            515                     SETB    HOMEWORK_State.5

0079 C23C            516                     CLR             HOMEWORK_State.4

007B 757B01          517                     MOV             HOMEWORK_Count,#HOMEWORK_Count3

007E 857877          518                     MOV             HOMEWORK_Second,HOMEWORK_Second3

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE     9

0081 751105          519                     MOV             g_Digit1,#05H

0084 75103A          520                     MOV             g_Digit2,#3AH

0087 752504          521                     MOV             g_DigitState,#00000100B

008A 120000   F      522                     LCALL   Digits_StopBlink1

008D 120000   F      523                     LCALL   Digits_StopBlink2

0090 120000   F      524                     LCALL   Digits_StopBlink3

0093 120000   F      525                     LCALL   Digits_StopBlink4

0096 120000   F      526                     LCALL   LED_off

0099 120000   F      527                     LCALL   LEDs_Clear

                     528     

009C 22              529                     RET

                     530     

                     531     

                     532     

                     533     

                     534     

009D                 535     StartTimer1:

009D C008            536                     PUSH    08H

                     537     

009F 750804          538                     MOV             08H,#4

00A2 120000   F      539                     LCALL   Timer_Start

00A5 120000   F      540                     LCALL   LEDs_Start

                     541                     

                     542                     

00A8 D008            543                     POP             08H

00AA 22              544                     RET

                     545     

                     546     

00AB                 547     StopTimer1:

00AB C008            548                     PUSH    08H

                     549     

00AD 750804          550                     MOV             08H,#4

00B0 120000   F      551                     LCALL   Timer_Stop

00B3 120000   F      552                     LCALL   LEDs_Stop

                     553                     

00B6 D008            554                     POP             08H

00B8 22              555                     RET

                     556                     

00B9                 557     StartTimer2:

00B9 C008            558                     PUSH    08H

                     559     

00BB 750805          560                     MOV             08H,#5

00BE 120000   F      561                     LCALL   Timer_Start

00C1 120000   F      562                     LCALL   LEDs_Start

                     563                     

00C4 D008            564                     POP             08H

00C6 22              565                     RET

                     566     

                     567     

00C7                 568     StopTimer2:

00C7 C008            569                     PUSH    08H

                     570     

00C9 750805          571                     MOV             08H,#5

00CC 120000   F      572                     LCALL   Timer_Stop

00CF 120000   F      573                     LCALL   LEDs_Stop

                     574                     

00D2 D008            575                     POP             08H

00D4 22              576                     RET

                     577                     

00D5                 578     StartTimer3:

00D5 C008            579                     PUSH    08H

                     580     

00D7 750806          581                     MOV             08H,#6

00DA 120000   F      582                     LCALL   Timer_Start

00DD 120000   F      583                     LCALL   LEDs_Start

                     584                     

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE    10

00E0 D008            585                     POP             08H

00E2 22              586                     RET

                     587     

                     588     

00E3                 589     StopTimer3:

00E3 C008            590                     PUSH    08H

                     591     

00E5 750806          592                     MOV             08H,#6

00E8 120000   F      593                     LCALL   Timer_Stop

00EB 120000   F      594                     LCALL   LEDs_Stop

                     595                     

00EE D008            596                     POP             08H

00F0 22              597                     RET

                     598                     

                     599     

                     600     

                     601     

                     602     

                     603     

                     604     ;start or pause

00F1                 605     StartPlay:

00F1 C007            606                     PUSH    07H

                     607                     

00F3 E527            608                     MOV             A,HOMEWORK_State

00F5 540F            609                     ANL             A,#0FH

00F7 FF              610                     MOV             R7,A

                     611                     

00F8 BF0012          612                     CJNE    R7,#0,CONTINUE1

00FB 120000   F      613                     LCALL   Beep_2Async

00FE 120000   F      614                     LCALL   Digits_StartBlink3

0101 C239            615                     CLR             HOMEWORK_State.1

0103 D238            616                     SETB    HOMEWORK_State.0

0105 752500          617                     MOV             g_DigitState,#00000000B

0108 857711          618                     MOV             g_Digit1,HOMEWORK_Second

010B 8018            619                     SJMP    StartPlay_Start

                     620                     

010D                 621                     CONTINUE1:

010D BF0209          622                     CJNE    R7,#2,CONTINUE2

0110 120000   F      623                     LCALL   Beep_1Async

0113 C239            624                     CLR             HOMEWORK_State.1

0115 D238            625                     SETB    HOMEWORK_State.0

0117 800C            626                     SJMP    StartPlay_Start

                     627                     

0119                 628                     CONTINUE2:

0119 BF0147          629                     CJNE    R7,#1,_StartPlay

011C 120000   F      630                     LCALL   Beep_1Async

011F D239            631                     SETB    HOMEWORK_State.1

0121 C238            632                     CLR             HOMEWORK_State.0

0123 801F            633                     SJMP    StartPlay_Pause

                     634                     

0125                 635     StartPlay_Start:

0125 E527            636                     MOV             A,HOMEWORK_State

0127 5430            637                     ANL             A,#00110000B

0129 FF              638                     MOV             R7,A

012A 120000   F      639                     LCALL   Digits_StartBlink3

                     640     

012D                 641                     StartNUM1:

012D BF0004          642                     CJNE    R7,#00000000B,StartNUM2

0130 1100     F      643                     ACALL   StartTimer1

0132 802F            644                     SJMP    _StartPlay

                     645                     

0134                 646                     StartNUM2:

0134 BF1004          647                     CJNE    R7,#00010000B,StartNUM3

0137 1100     F      648                     ACALL   StartTimer2

0139 8028            649                     SJMP    _StartPlay

                     650                     

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE    11

013B                 651                     StartNUM3:

013B BF2004          652                     CJNE    R7,#00100000B,StartNUM4

013E 1100     F      653                     ACALL   StartTimer3

0140 8021            654                     SJMP    _StartPlay

                     655                     

0142                 656                     StartNUM4:

0142 801F            657                     SJMP    _StartPlay

                     658                     

0144                 659     StartPlay_Pause:

0144 E527            660                     MOV             A,HOMEWORK_State

0146 5430            661                     ANL             A,#00110000B

0148 FF              662                     MOV             R7,A

0149 120000   F      663                     LCALL   Digits_StopBlink3

                     664     

014C                 665                     PauseNUM1:

014C BF0004          666                     CJNE    R7,#00000000B,PauseNUM2

014F 1100     F      667                     ACALL   StopTimer1

0151 8010            668                     SJMP    _StartPlay

                     669                     

0153                 670                     PauseNUM2:

0153 BF1004          671                     CJNE    R7,#00010000B,PauseNUM3

0156 1100     F      672                     ACALL   StopTimer2

0158 8009            673                     SJMP    _StartPlay

                     674                     

015A                 675                     PauseNUM3:

015A BF2004          676                     CJNE    R7,#00100000B,PauseNUM4

015D 1100     F      677                     ACALL   StopTimer3

015F 8002            678                     SJMP    _StartPlay

                     679                     

0161                 680                     PauseNUM4:

0161 8000            681                     SJMP    _StartPlay

                     682                     

                     683     

                     684     

0163                 685     _StartPlay:

0163 D007            686                     POP             07H

0165 22              687                     RET

                     688     

                     689     

                     690     

0166                 691     EnterSetting:

0166 C007            692                     PUSH    07H

                     693                     

0168 D238            694                     SETB    HOMEWORK_State.0

016A D239            695                     SETB    HOMEWORK_State.1

                     696                     

016C 120000   F      697                     LCALL   Digits_StartBlink1

016F 120000   F      698                     LCALL   Digits_StartBlink2

                     699                     

0172 E527            700                     MOV             A,HOMEWORK_State

0174 5430            701                     ANL             A,#00110000B

0176 FF              702                     MOV             R7,A

                     703     

0177                 704                     EnterSettingNUM1:

0177 BF0005          705                     CJNE    R7,#00000000B,EnterSettingNUM2

017A 857A11          706                     MOV             g_Digit1,HOMEWORK_Second1

017D 8015            707                     SJMP    _EnterSetting

                     708                     

017F                 709                     EnterSettingNUM2:

017F BF1005          710                     CJNE    R7,#00010000B,EnterSettingNUM3

0182 857911          711                     MOV             g_Digit1,HOMEWORK_Second2

0185 800D            712                     SJMP    _EnterSetting

                     713                     

0187                 714                     EnterSettingNUM3:

0187 BF2008          715                     CJNE    R7,#00100000B,EnterSettingNUM4

018A 752500          716                     MOV             g_DigitState,#00000000B

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE    12

018D 857811          717                     MOV             g_Digit1,HOMEWORK_Second3

0190 8002            718                     SJMP    _EnterSetting

                     719                     

0192                 720                     EnterSettingNUM4:

0192 8000            721                     SJMP    _EnterSetting

                     722     

0194                 723     _EnterSetting:

0194 D007            724                     POP             07H

0196 22              725                     RET

                     726     

                     727     

                     728     

0197                 729     ExitSetting:

0197 C007            730                     PUSH    07H

                     731                     

0199 C238            732                     CLR             HOMEWORK_State.0

019B C239            733                     CLR             HOMEWORK_State.1

                     734                     

                     735                     

019D E527            736                     MOV             A,HOMEWORK_State

019F 5430            737                     ANL             A,#00110000B

01A1 FF              738                     MOV             R7,A

                     739     

01A2                 740                     ExitSettingNUM1:

01A2 BF0007          741                     CJNE    R7,#00000000B,ExitSettingNUM2

01A5 85117A          742                     MOV             HOMEWORK_Second1,g_Digit1

01A8 1100     F      743                     ACALL   Select1

01AA 8016            744                     SJMP    _ExitSetting

                     745                     

01AC                 746                     ExitSettingNUM2:

01AC BF1007          747                     CJNE    R7,#00010000B,ExitSettingNUM3

01AF 851179          748                     MOV             HOMEWORK_Second2,g_Digit1

01B2 1100     F      749                     ACALL   Select2

01B4 800C            750                     SJMP    _ExitSetting

                     751                     

01B6                 752                     ExitSettingNUM3:

01B6 BF2007          753                     CJNE    R7,#00100000B,ExitSettingNUM4

01B9 851178          754                     MOV             HOMEWORK_Second3,g_Digit1

01BC 1100     F      755                     ACALL   Select3

01BE 8002            756                     SJMP    _ExitSetting

                     757                     

01C0                 758                     ExitSettingNUM4:

01C0 8000            759                     SJMP    _ExitSetting

                     760     

01C2                 761     _ExitSetting:

01C2 D007            762                     POP             07H

01C4 22              763                     RET

                     764     

                     765     

                     766     

                     767     

                     768                     

01C5                 769     Homework_KeyEvent:

01C5 C007            770                     PUSH    07H

01C7 C006            771                     PUSH    06H

01C9 E527            772                     MOV             A,HOMEWORK_State

01CB 540F            773                     ANL             A,#0FH

01CD FF              774                     MOV             R7,A                                    ;R7: state 

01CE AE08            775                     MOV             R6,08H                                  ;R6: key code

                     776                     

01D0 BF0302          777                     CJNE    R7,#3,NORMALMODE

01D3 8032            778                     SJMP    SETTINGMODE

01D5                 779     NORMALMODE:

                     780                     

01D5                 781                     KEY1:

01D5 BE0107          782                     CJNE    R6,#1,KEY2

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE    13

01D8 120000   F      783                     LCALL   Beep_1Async

01DB 1100     F      784                     ACALL   Select1

01DD 0100     F      785                     AJMP    _Homework_KeyEvent

                     786                     

01DF                 787                     KEY2:

01DF BE0207          788                     CJNE    R6,#2,KEY3

01E2 120000   F      789                     LCALL   Beep_1Async

01E5 1100     F      790                     ACALL   Select2

01E7 0100     F      791                     AJMP    _Homework_KeyEvent

                     792     

01E9                 793                     KEY3:

01E9 BE0307          794                     CJNE    R6,#3,KEY10

01EC 120000   F      795                     LCALL   Beep_1Async

01EF 1100     F      796                     ACALL   Select3

01F1 0100     F      797                     AJMP    _Homework_KeyEvent

                     798                     

01F3                 799                     KEY10:

01F3 BE0A04          800                     CJNE    R6,#10,KEY11

01F6 1100     F      801                     ACALL   StartPlay

01F8 0100     F      802                     AJMP    _Homework_KeyEvent

                     803                     

01FA                 804                     KEY11:

01FA BE0B2A          805                     CJNE    R6,#11,INVALID1

01FD BF0027          806                     CJNE    R7,#0,INVALID1

0200 120000   F      807                     LCALL   Beep_1Async

0203 1100     F      808                     ACALL   EnterSetting

0205 0100     F      809                     AJMP    _Homework_KeyEvent

                     810                     

0207                 811     SETTINGMODE:

0207 C3              812                     CLR             C

0208 7409            813                     MOV             A,#9

020A 9E              814                     SUBB    A,R6

020B 4010            815                     JC              OTHERKEYS

                     816                     

020D 120000   F      817                     LCALL   Beep_1Async

                     818                     

0210 E511            819                     MOV             A,g_Digit1

0212 C4              820                     SWAP    A

0213 54F0            821                     ANL             A,#0F0H

0215 53060F          822                     ANL             06H,#0FH

0218 4E              823                     ORL             A,R6

0219 F511            824                     MOV             g_Digit1,A

021B 0100     F      825                     AJMP    _Homework_KeyEvent

                     826                     

                     827                     

021D                 828     OTHERKEYS:

021D BE0B07          829                     CJNE    R6,#11,INVALID1

0220 120000   F      830                     LCALL   Beep_1Async

0223 1100     F      831                     ACALL   ExitSetting

0225 0100     F      832                     AJMP    _Homework_KeyEvent

                     833                     

                     834     

                     835                     

0227                 836     INVALID1:

0227 120000   F      837                     LCALL   Beep_3Async

022A 8000            838                     SJMP    _Homework_KeyEvent

                     839                     

                     840     

                     841     

022C                 842     _Homework_KeyEvent:

022C D006            843                     POP             06H

022E D007            844                     POP             07H

0230 22              845                     RET

                     846                     

                     847                     

                     848                     

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE    14

                     849                     

                     850     

                     851     ;100ms

0231                 852     Timer_4:

0231 157B            853                     DEC             HOMEWORK_Count

0233 E57B            854                     MOV             A,HOMEWORK_Count

0235 7017            855                     JNZ             FINISH1

0237 757B0A          856                     MOV             HOMEWORK_Count,#HOMEWORK_Count1

                     857                     

023A E577            858                     MOV             A,HOMEWORK_Second

023C 2499            859                     ADD             A,#99H

023E D4              860                     DA              A

023F F577            861                     MOV             HOMEWORK_Second,A

0241 857711          862                     MOV             g_Digit1,HOMEWORK_Second

0244 E577            863                     MOV             A,HOMEWORK_Second

0246 7006            864                     JNZ             FINISH1

0248 120000   F      865                     LCALL   Beep_2Async

024B 1100     F      866                     ACALL   Select1

024D 22              867                     RET

                     868                     

024E                 869     FINISH1:

024E 120000   F      870                     LCALL   LED_switch

0251 22              871                     RET

                     872                     

                     873                     

                     874                     

                     875     ;0.5ms

0252                 876     Timer_5:

0252 157B            877                     DEC             HOMEWORK_Count

0254 E57B            878                     MOV             A,HOMEWORK_Count

0256 7017            879                     JNZ             FINISH2

0258 757B02          880                     MOV             HOMEWORK_Count,#HOMEWORK_Count2

                     881                     

025B E577            882                     MOV             A,HOMEWORK_Second

025D 2499            883                     ADD             A,#99H

025F D4              884                     DA              A

0260 F577            885                     MOV             HOMEWORK_Second,A

0262 857711          886                     MOV             g_Digit1,HOMEWORK_Second

0265 E577            887                     MOV             A,HOMEWORK_Second

0267 7006            888                     JNZ             FINISH2

0269 120000   F      889                     LCALL   Beep_2Async

026C 1100     F      890                     ACALL   Select2

026E 22              891                     RET

                     892                     

026F                 893     FINISH2:

026F 120000   F      894                     LCALL   LED_switch

0272 22              895                     RET

                     896     

                     897     

                     898     

                     899     

                     900     

                     901     ;1s

0273                 902     Timer_6:

0273 157B            903                     DEC             HOMEWORK_Count

0275 E57B            904                     MOV             A,HOMEWORK_Count

0277 7017            905                     JNZ             FINISH3

0279 757B01          906                     MOV             HOMEWORK_Count,#HOMEWORK_Count3

                     907                     

027C E577            908                     MOV             A,HOMEWORK_Second

027E 2499            909                     ADD             A,#99H

0280 D4              910                     DA              A

0281 F577            911                     MOV             HOMEWORK_Second,A

0283 857711          912                     MOV             g_Digit1,HOMEWORK_Second

0286 E577            913                     MOV             A,HOMEWORK_Second

0288 7006            914                     JNZ             FINISH3

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE    15

028A 120000   F      915                     LCALL   Beep_2Async

028D 1100     F      916                     ACALL   Select3

028F 22              917                     RET

                     918                     

0290                 919     FINISH3:

0290 120000   F      920                     LCALL   LED_switch

0293 22              921                     RET

                     922                     

                     923                     

                     924                     

                     925                     

                     926                     

                     927                     END

A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE    16

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

AC . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . .  D ADDR   00E0H   A   
ACK. . . . . . . .  B ADDR   00C0H.1 A   
ACKRQ. . . . . . .  B ADDR   00C0H.3 A   
AD0BUSY. . . . . .  B ADDR   00E8H.4 A   
AD0CM0 . . . . . .  B ADDR   00E8H.0 A   
AD0CM1 . . . . . .  B ADDR   00E8H.1 A   
AD0CM2 . . . . . .  B ADDR   00E8H.2 A   
AD0EN. . . . . . .  B ADDR   00E8H.7 A   
AD0INT . . . . . .  B ADDR   00E8H.5 A   
AD0TM. . . . . . .  B ADDR   00E8H.6 A   
AD0WINT. . . . . .  B ADDR   00E8H.3 A   
ADC0CF . . . . . .  D ADDR   00BCH   A   
ADC0CN . . . . . .  D ADDR   00E8H   A   
ADC0GTH. . . . . .  D ADDR   00C4H   A   
ADC0GTL. . . . . .  D ADDR   00C3H   A   
ADC0H. . . . . . .  D ADDR   00BEH   A   
ADC0L. . . . . . .  D ADDR   00BDH   A   
ADC0LTH. . . . . .  D ADDR   00C6H   A   
ADC0LTL. . . . . .  D ADDR   00C5H   A   
AMX0N. . . . . . .  D ADDR   00BAH   A   
AMX0P. . . . . . .  D ADDR   00BBH   A   
ARBLOST. . . . . .  B ADDR   00C0H.2 A   
B. . . . . . . . .  D ADDR   00F0H   A   
BEEP_1ASYNC. . . .  C ADDR   -----       EXT
BEEP_2ASYNC. . . .  C ADDR   -----       EXT
BEEP_3ASYNC. . . .  C ADDR   -----       EXT
BEEP_COUNT . . . .  N NUMB   0014H   A   
BEEP_INIT. . . . .  C ADDR   -----       EXT
BEEP_OFF . . . . .  C ADDR   -----       EXT
BEEP_ON. . . . . .  C ADDR   -----       EXT
BEEP_STATE . . . .  N NUMB   0012H   A   
BEEP_SWITCH. . . .  C ADDR   -----       EXT
BEEP_TOTAL . . . .  N NUMB   0013H   A   
CALCULATE_1. . . .  N NUMB   0075H   A   
CALCULATE_2. . . .  N NUMB   0074H   A   
CALCULATE_NUM. . .  N NUMB   0076H   A   
CAL_STATE1 . . . .  B ADDR   0028H.0 A   
CAL_STATE2 . . . .  B ADDR   0028H.1 A   
CAL_STATE3 . . . .  B ADDR   0028H.2 A   
CCF0 . . . . . . .  B ADDR   00D8H.0 A   
CCF1 . . . . . . .  B ADDR   00D8H.1 A   
CCF2 . . . . . . .  B ADDR   00D8H.2 A   
CCF3 . . . . . . .  B ADDR   00D8H.3 A   
CCF4 . . . . . . .  B ADDR   00D8H.4 A   
CF . . . . . . . .  B ADDR   00D8H.7 A   
CKCON. . . . . . .  D ADDR   008EH   A   
CLKSEL . . . . . .  D ADDR   00A9H   A   
CONTINUE1. . . . .  C ADDR   010DH   R   SEG=HOMEWORK
CONTINUE2. . . . .  C ADDR   0119H   R   SEG=HOMEWORK
CPT0CN . . . . . .  D ADDR   009BH   A   
CPT0MD . . . . . .  D ADDR   009DH   A   
CPT0MX . . . . . .  D ADDR   009FH   A   
CPT1CN . . . . . .  D ADDR   009AH   A   
CPT1MD . . . . . .  D ADDR   009CH   A   
CPT1MX . . . . . .  D ADDR   009EH   A   
CR . . . . . . . .  B ADDR   00D8H.6 A   
CY . . . . . . . .  B ADDR   00D0H.7 A   
DIGITS_INIT. . . .  C ADDR   -----       EXT
DIGITS_LASTSTATE .  N NUMB   0026H   A   
A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE    17

DIGITS_LASTSTATE0.  B ADDR   0026H.0 A   
DIGITS_LASTSTATE7.  B ADDR   0026H.7 A   
DIGITS_STARTBLINK1  C ADDR   -----       EXT
DIGITS_STARTBLINK2  C ADDR   -----       EXT
DIGITS_STARTBLINK3  C ADDR   -----       EXT
DIGITS_STARTBLINK4  C ADDR   -----       EXT
DIGITS_STATE . . .  N NUMB   0024H   A   
DIGITS_STATE0. . .  B ADDR   0024H.7 A   
DIGITS_STATE7. . .  B ADDR   0024H.0 A   
DIGITS_STOPBLINK1.  C ADDR   -----       EXT
DIGITS_STOPBLINK2.  C ADDR   -----       EXT
DIGITS_STOPBLINK3.  C ADDR   -----       EXT
DIGITS_STOPBLINK4.  C ADDR   -----       EXT
DIGITS_SWEEP . . .  C ADDR   -----       EXT
DPH. . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . .  D ADDR   0082H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
EIE1 . . . . . . .  D ADDR   00E6H   A   
EIP1 . . . . . . .  D ADDR   00F6H   A   
EMI0CN . . . . . .  D ADDR   00AAH   A   
ENTERSETTING . . .  C ADDR   0166H   R   SEG=HOMEWORK
ENTERSETTINGNUM1 .  C ADDR   0177H   R   SEG=HOMEWORK
ENTERSETTINGNUM2 .  C ADDR   017FH   R   SEG=HOMEWORK
ENTERSETTINGNUM3 .  C ADDR   0187H   R   SEG=HOMEWORK
ENTERSETTINGNUM4 .  C ADDR   0192H   R   SEG=HOMEWORK
ES0. . . . . . . .  B ADDR   00A8H.4 A   
ESPI0. . . . . . .  B ADDR   00A8H.6 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . .  B ADDR   00A8H.2 A   
EXITSETTING. . . .  C ADDR   0197H   R   SEG=HOMEWORK
EXITSETTINGNUM1. .  C ADDR   01A2H   R   SEG=HOMEWORK
EXITSETTINGNUM2. .  C ADDR   01ACH   R   SEG=HOMEWORK
EXITSETTINGNUM3. .  C ADDR   01B6H   R   SEG=HOMEWORK
EXITSETTINGNUM4. .  C ADDR   01C0H   R   SEG=HOMEWORK
F0 . . . . . . . .  B ADDR   00D0H.5 A   
F1 . . . . . . . .  B ADDR   00D0H.1 A   
FINISH1. . . . . .  C ADDR   024EH   R   SEG=HOMEWORK
FINISH2. . . . . .  C ADDR   026FH   R   SEG=HOMEWORK
FINISH3. . . . . .  C ADDR   0290H   R   SEG=HOMEWORK
FLACL. . . . . . .  D ADDR   00B5H   A   
FLKEY. . . . . . .  D ADDR   00B7H   A   
FLSCL. . . . . . .  D ADDR   00B6H   A   
G_DIGIT1 . . . . .  N NUMB   0011H   A   
G_DIGIT2 . . . . .  N NUMB   0010H   A   
G_DIGITSTATE . . .  N NUMB   0025H   A   
G_DIGITSTATE0. . .  B ADDR   0025H.7 A   
G_DIGITSTATE7. . .  B ADDR   0025H.0 A   
G_LED1 . . . . . .  B ADDR   0020H.0 A   
G_LED2 . . . . . .  B ADDR   0020H.1 A   
G_LED3 . . . . . .  B ADDR   0020H.2 A   
G_LED4 . . . . . .  B ADDR   0020H.3 A   
G_LED5 . . . . . .  B ADDR   0020H.4 A   
G_LED6 . . . . . .  B ADDR   0020H.5 A   
G_LED7 . . . . . .  B ADDR   0020H.6 A   
G_LED8 . . . . . .  B ADDR   0020H.7 A   
G_LEDS . . . . . .  N NUMB   0020H   A   
HOMEWORK . . . . .  C SEG    0294H       REL=UNIT
HOMEWORK_COUNT . .  N NUMB   007BH   A   
HOMEWORK_COUNT1. .  N NUMB   000AH   A   
HOMEWORK_COUNT2. .  N NUMB   0002H   A   
HOMEWORK_COUNT3. .  N NUMB   0001H   A   
HOMEWORK_KEYEVENT.  C ADDR   01C5H   R   SEG=HOMEWORK
HOMEWORK_MAIN. . .  C ADDR   0000H   R   SEG=HOMEWORK
A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE    18

HOMEWORK_SECOND. .  N NUMB   0077H   A   
HOMEWORK_SECOND1 .  N NUMB   007AH   A   
HOMEWORK_SECOND2 .  N NUMB   0079H   A   
HOMEWORK_SECOND3 .  N NUMB   0078H   A   
HOMEWORK_STATE . .  N NUMB   0027H   A   
HOMEWORK_STATE0. .  B ADDR   0027H.7 A   
HOMEWORK_STATE7. .  B ADDR   0027H.0 A   
IE . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . .  B ADDR   0088H.3 A   
INIT_BEEP. . . . .  B ADDR   0022H.3 A   
INIT_DIGITS. . . .  B ADDR   0023H.2 A   
INIT_KEBEEP. . . .  B ADDR   0022H.0 A   
INIT_KEDIGITS. . .  B ADDR   0023H.1 A   
INIT_KEKEYS. . . .  B ADDR   0022H.1 A   
INIT_KELED . . . .  B ADDR   0021H.1 A   
INIT_KELEDS. . . .  B ADDR   0022H.6 A   
INIT_KETIMER2. . .  B ADDR   0022H.5 A   
INIT_KEYS. . . . .  B ADDR   0023H.0 A   
INIT_LED . . . . .  B ADDR   0022H.2 A   
INIT_LEDS. . . . .  B ADDR   0022H.7 A   
INIT_TIMER . . . .  B ADDR   0022H.4 A   
INT_C_OLD. . . . .  B ADDR   0021H.0 A   
INVALID1 . . . . .  C ADDR   0227H   R   SEG=HOMEWORK
IP . . . . . . . .  D ADDR   00B8H   A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
IT01CF . . . . . .  D ADDR   00E4H   A   
IT1. . . . . . . .  B ADDR   0088H.2 A   
KEY1 . . . . . . .  C ADDR   01D5H   R   SEG=HOMEWORK
KEY10. . . . . . .  C ADDR   01F3H   R   SEG=HOMEWORK
KEY11. . . . . . .  C ADDR   01FAH   R   SEG=HOMEWORK
KEY2 . . . . . . .  C ADDR   01DFH   R   SEG=HOMEWORK
KEY3 . . . . . . .  C ADDR   01E9H   R   SEG=HOMEWORK
KEYS_INIT. . . . .  C ADDR   -----       EXT
KEYS_LASTCODE. . .  N NUMB   0015H   A   
LEDS_CLEAR . . . .  C ADDR   -----       EXT
LEDS_INIT. . . . .  C ADDR   -----       EXT
LEDS_NEXT. . . . .  C ADDR   -----       EXT
LEDS_PATTERN . . .  N NUMB   0016H   A   
LEDS_START . . . .  C ADDR   -----       EXT
LEDS_STOP. . . . .  C ADDR   -----       EXT
LED_INIT . . . . .  C ADDR   -----       EXT
LED_OFF. . . . . .  C ADDR   -----       EXT
LED_ON . . . . . .  C ADDR   -----       EXT
LED_SWITCH . . . .  C ADDR   -----       EXT
MASTER . . . . . .  B ADDR   00C0H.7 A   
MCE0 . . . . . . .  B ADDR   0098H.5 A   
MODF . . . . . . .  B ADDR   00F8H.5 A   
NORMALMODE . . . .  C ADDR   01D5H   R   SEG=HOMEWORK
NSSMD0 . . . . . .  B ADDR   00F8H.2 A   
NSSMD1 . . . . . .  B ADDR   00F8H.3 A   
OSCICL . . . . . .  D ADDR   00B3H   A   
OSCICN . . . . . .  D ADDR   00B2H   A   
OSCXCN . . . . . .  D ADDR   00B1H   A   
OTHERKEYS. . . . .  C ADDR   021DH   R   SEG=HOMEWORK
OV . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . .  D ADDR   0080H   A   
P0MDIN . . . . . .  D ADDR   00F1H   A   
P0MDOUT. . . . . .  D ADDR   00A4H   A   
P0SKIP . . . . . .  D ADDR   00D4H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P1MDIN . . . . . .  D ADDR   00F2H   A   
P1MDOUT. . . . . .  D ADDR   00A5H   A   
P1SKIP . . . . . .  D ADDR   00D5H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE    19

P2MDIN . . . . . .  D ADDR   00F3H   A   
P2MDOUT. . . . . .  D ADDR   00A6H   A   
P2SKIP . . . . . .  D ADDR   00D6H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
P3MDIN . . . . . .  D ADDR   00F4H   A   
P3MDOUT. . . . . .  D ADDR   00A7H   A   
PASSWORD_PSW1. . .  N NUMB   007DH   A   
PASSWORD_PSW2. . .  N NUMB   007CH   A   
PASSWORD_STATE . .  N NUMB   007EH   A   
PAUSENUM1. . . . .  C ADDR   014CH   R   SEG=HOMEWORK
PAUSENUM2. . . . .  C ADDR   0153H   R   SEG=HOMEWORK
PAUSENUM3. . . . .  C ADDR   015AH   R   SEG=HOMEWORK
PAUSENUM4. . . . .  C ADDR   0161H   R   SEG=HOMEWORK
PCA0CN . . . . . .  D ADDR   00D8H   A   
PCA0CPH0 . . . . .  D ADDR   00FCH   A   
PCA0CPH1 . . . . .  D ADDR   00EAH   A   
PCA0CPH2 . . . . .  D ADDR   00ECH   A   
PCA0CPH3 . . . . .  D ADDR   00EEH   A   
PCA0CPH4 . . . . .  D ADDR   00FEH   A   
PCA0CPL0 . . . . .  D ADDR   00FBH   A   
PCA0CPL1 . . . . .  D ADDR   00E9H   A   
PCA0CPL2 . . . . .  D ADDR   00EBH   A   
PCA0CPL3 . . . . .  D ADDR   00EDH   A   
PCA0CPL4 . . . . .  D ADDR   00FDH   A   
PCA0CPM0 . . . . .  D ADDR   00DAH   A   
PCA0CPM1 . . . . .  D ADDR   00DBH   A   
PCA0CPM2 . . . . .  D ADDR   00DCH   A   
PCA0CPM3 . . . . .  D ADDR   00DDH   A   
PCA0CPM4 . . . . .  D ADDR   00DEH   A   
PCA0H. . . . . . .  D ADDR   00FAH   A   
PCA0L. . . . . . .  D ADDR   00F9H   A   
PCA0MD . . . . . .  D ADDR   00D9H   A   
PCON . . . . . . .  D ADDR   0087H   A   
PS0. . . . . . . .  B ADDR   00B8H.4 A   
PSCTL. . . . . . .  D ADDR   008FH   A   
PSPI0. . . . . . .  B ADDR   00B8H.6 A   
PSW. . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . .  B ADDR   00B8H.5 A   
PX0. . . . . . . .  B ADDR   00B8H.0 A   
PX1. . . . . . . .  B ADDR   00B8H.2 A   
RB80 . . . . . . .  B ADDR   0098H.2 A   
REF0CN . . . . . .  D ADDR   00D1H   A   
REN0 . . . . . . .  B ADDR   0098H.4 A   
RI0. . . . . . . .  B ADDR   0098H.0 A   
RS0. . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . .  B ADDR   00D0H.4 A   
RSTSRC . . . . . .  D ADDR   00EFH   A   
RXOVRN . . . . . .  B ADDR   00F8H.4 A   
S0MODE . . . . . .  B ADDR   0098H.7 A   
SBUF0. . . . . . .  D ADDR   0099H   A   
SCON0. . . . . . .  D ADDR   0098H   A   
SELECT1. . . . . .  C ADDR   0010H   R   SEG=HOMEWORK
SELECT2. . . . . .  C ADDR   003FH   R   SEG=HOMEWORK
SELECT3. . . . . .  C ADDR   006EH   R   SEG=HOMEWORK
SETTINGMODE. . . .  C ADDR   0207H   R   SEG=HOMEWORK
SI . . . . . . . .  B ADDR   00C0H.0 A   
SMB0CF . . . . . .  D ADDR   00C1H   A   
SMB0CN . . . . . .  D ADDR   00C0H   A   
SMB0DAT. . . . . .  D ADDR   00C2H   A   
SP . . . . . . . .  D ADDR   0081H   A   
SPI0CFG. . . . . .  D ADDR   00A1H   A   
SPI0CKR. . . . . .  D ADDR   00A2H   A   
SPI0CN . . . . . .  D ADDR   00F8H   A   
SPI0DAT. . . . . .  D ADDR   00A3H   A   
A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE    20

SPIEN. . . . . . .  B ADDR   00F8H.0 A   
SPIF . . . . . . .  B ADDR   00F8H.7 A   
STA. . . . . . . .  B ADDR   00C0H.5 A   
STARTNUM1. . . . .  C ADDR   012DH   R   SEG=HOMEWORK
STARTNUM2. . . . .  C ADDR   0134H   R   SEG=HOMEWORK
STARTNUM3. . . . .  C ADDR   013BH   R   SEG=HOMEWORK
STARTNUM4. . . . .  C ADDR   0142H   R   SEG=HOMEWORK
STARTPLAY. . . . .  C ADDR   00F1H   R   SEG=HOMEWORK
STARTPLAY_PAUSE. .  C ADDR   0144H   R   SEG=HOMEWORK
STARTPLAY_START. .  C ADDR   0125H   R   SEG=HOMEWORK
STARTTIMER1. . . .  C ADDR   009DH   R   SEG=HOMEWORK
STARTTIMER2. . . .  C ADDR   00B9H   R   SEG=HOMEWORK
STARTTIMER3. . . .  C ADDR   00D5H   R   SEG=HOMEWORK
STO. . . . . . . .  B ADDR   00C0H.4 A   
STOPTIMER1 . . . .  C ADDR   00ABH   R   SEG=HOMEWORK
STOPTIMER2 . . . .  C ADDR   00C7H   R   SEG=HOMEWORK
STOPTIMER3 . . . .  C ADDR   00E3H   R   SEG=HOMEWORK
T2SPLIT. . . . . .  B ADDR   00C8H.3 A   
T2XCLK . . . . . .  B ADDR   00C8H.0 A   
TB80 . . . . . . .  B ADDR   0098H.3 A   
TCON . . . . . . .  D ADDR   0088H   A   
TEST3_CHANGESTATE.  C ADDR   -----       EXT
TEST3_MAINSTATE. .  N NUMB   007FH   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . .  B ADDR   0088H.7 A   
TF2H . . . . . . .  B ADDR   00C8H.7 A   
TF2L . . . . . . .  B ADDR   00C8H.6 A   
TF2LEN . . . . . .  B ADDR   00C8H.5 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TI0. . . . . . . .  B ADDR   0098H.1 A   
TIMER_4. . . . . .  C ADDR   0231H   R   SEG=HOMEWORK
TIMER_5. . . . . .  C ADDR   0252H   R   SEG=HOMEWORK
TIMER_6. . . . . .  C ADDR   0273H   R   SEG=HOMEWORK
TIMER_CHECKCTRL. .  C ADDR   -----       EXT
TIMER_CNT1 . . . .  N NUMB   0018H   A   
TIMER_CNT8 . . . .  N NUMB   001FH   A   
TIMER_CTRL . . . .  N NUMB   0017H   A   
TIMER_INIT . . . .  C ADDR   -----       EXT
TIMER_START. . . .  C ADDR   -----       EXT
TIMER_STOP . . . .  C ADDR   -----       EXT
TL0. . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TMR2CN . . . . . .  D ADDR   00C8H   A   
TMR2H. . . . . . .  D ADDR   00CDH   A   
TMR2L. . . . . . .  D ADDR   00CCH   A   
TMR2RLH. . . . . .  D ADDR   00CBH   A   
TMR2RLL. . . . . .  D ADDR   00CAH   A   
TMR3CN . . . . . .  D ADDR   0091H   A   
TMR3H. . . . . . .  D ADDR   0095H   A   
TMR3L. . . . . . .  D ADDR   0094H   A   
TMR3RLH. . . . . .  D ADDR   0093H   A   
TMR3RLL. . . . . .  D ADDR   0092H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . .  B ADDR   00C8H.2 A   
TXBMT. . . . . . .  B ADDR   00F8H.1 A   
TXMODE . . . . . .  B ADDR   00C0H.6 A   
VDM0CN . . . . . .  D ADDR   00FFH   A   
WCOL . . . . . . .  B ADDR   00F8H.6 A   
XBR0 . . . . . . .  D ADDR   00E1H   A   
XBR1 . . . . . . .  D ADDR   00E2H   A   
_ENTERSETTING. . .  C ADDR   0194H   R   SEG=HOMEWORK
_EXITSETTING . . .  C ADDR   01C2H   R   SEG=HOMEWORK
_HOMEWORK_KEYEVENT  C ADDR   022CH   R   SEG=HOMEWORK
A51 MACRO ASSEMBLER  HOMEWORK                                                             11/15/2017 18:41:37 PAGE    21

_STARTPLAY . . . .  C ADDR   0163H   R   SEG=HOMEWORK


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
